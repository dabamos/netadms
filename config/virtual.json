{
    "Modules":
    {
        "Scheduler0": "modules.schedule.Scheduler",
        "VirtualDTM": "modules.virtual.VirtualDTM",
        "FileExporter": "modules.export.FileExporter",
        "PreProcessor": "modules.processing.PreProcessor",
        "Alert": "modules.notify.Alert",
        "PolarTransformer": "modules.totalstation.PolarTransformer",
        "DistanceCorrector": "modules.totalstation.DistanceCorrector",
        "ReturnCodeInspector": "modules.processing.ReturnCodeInspector",
        "RealTimePublisher": "modules.export.RealTimePublisher"
    },
    "Project":
    {
        "Name": "Project 1",
        "ID": "598e2814-2f89-48e8-900e-5025c6e4a86e",
        "Description": "Project for testing only."
    },
    "Intercom": {
        "MQTT": {
            "Host": "127.0.0.1",
            "Port": 1883,
            "KeepAlive": 60,
            "Topic": "598e2814-2f89-48e8-900e-5025c6e4a86e/OpenADMS"
        }
    },
    "Sensors":
    {
        "STS DTM": {
            "Description": "STS DTM meteorology sensor",
            "Type": "Weather Station",
            "Observations": [
                {
                    "Description": "Initialize the sensor.",
                    "Enabled": true,
                    "ID": null,
                    "Name": "initialize",
                    "NextReceiver": 0,
                    "Onetime": true,
                    "Receivers": [
                        "PreProcessor"
                    ],
                    "RequestSets": {
                        "power_on": {
                            "Enabled": true,
                            "Request": "A\r",
                            "Response": "",
                            "ResponsePattern": "(?P<PowerOn>#)",
                            "ResponseDelimiter": "\r",
                            "SleepTime": 1.0,
                            "Timeout": 1.0
                        },
                        "set_command_set": {
                            "Enabled": true,
                            "Request": "CMDT 1\r",
                            "Response": "",
                            "ResponsePattern": "(?P<SetCmd>\\*)",
                            "ResponseDelimiter": "\r",
                            "SleepTime": 1.0,
                            "Timeout": 1.0
                        },
                        "save": {
                            "Enabled": true,
                            "Request": "SAVE\r",
                            "Response": "",
                            "ResponsePattern": "(?P<Save>\\*)",
                            "ResponseDelimiter": "\r",
                            "SleepTime": 1.0,
                            "Timeout": 1.0
                        }
                    },
                    "RequestsOrder": [
                        "power_on",
                        "set_command_set",
                        "save"
                    ],
                    "ResponseSets": {
                        "PowerOn": {
                            "Type": "String",
                            "Unit": "none"
                        },
                        "SetCmd": {
                            "Type": "String",
                            "Unit": "none"
                        },
                        "Save": {
                            "Type": "String",
                            "Unit": "none"
                        }
                    },
                    "SleepTime": 5.0
                },
                {
                    "Name": "get_values",
                    "Description": "Get sensor values (temperature, pressure).",
                    "Receivers": [
                        "PreProcessor",
                        "DistanceCorrector",
                        "RealTimePublisher",
                        "FileExporter"
                    ],
                    "NextReceiver": 0,
                    "Enabled": true,
                    "Onetime": false,
                    "ID": "TP",
                    "RequestsOrder": [
                        "get_temperature",
                        "get_pressure"
                    ],
                    "RequestSets": {
                        "get_temperature": {
                            "Enabled": true,
                            "Request": "TEMP ?\r",
                            "Response": "",
                            "ResponseDelimiter": "\r",
                            "ResponsePattern": "(?P<Temperature>[+-]?\\d+\\.+\\d)",
                            "SleepTime": 1.0,
                            "Timeout": 1.0
                        },
                        "get_pressure": {
                            "Enabled": true,
                            "Request": "PRES ?\r",
                            "Response": "",
                            "ResponseDelimiter": "\r",
                            "ResponsePattern": "(?P<Pressure>[+-]?\\d+\\.+\\d)",
                            "SleepTime": 5.0,
                            "Timeout": 1.0
                        }
                    },
                    "ResponseSets": {
                        "Temperature": {
                            "Type": "Float",
                            "Unit": "C"
                        },
                        "Pressure": {
                            "Type": "Float",
                            "Unit": "mbar"
                        }
                    },
                    "SleepTime": 5.0
                }
            ]
        }
    },
    "Schedulers":
    {
        "Scheduler0":
        {
            "Port": "VirtualDTM",
            "Sensor": "STS DTM",
            "Schedules":
            [
                {
                    "Enabled": true,
                    "StartDate": "2016-02-01",
                    "EndDate": "2018-07-30",
                    "Weekdays":
                    {
                        "Monday":
                        [
                            {
                                "StartTime": "00:00:00",
                                "EndTime": "23:59:59"
                            }
                        ],
                        "Tuesday": [],
                        "Wednesday": [],
                        "Thursday": [],
                        "Friday": [],
                        "Saturday": [],
                        "Sunday": []
                    },
                    "Observations": [
                        "initialize",
                        "get_values"
                    ]
                }
            ]
        }
    },
    "Alert": {
        "Enabled": false,
        "Handlers": {
            "ShortMessageSocketAlertHandler": {
                "Enabled": false,
                "LogLevels": [
                    "Error",
                    "Critical"
                ],
                "Host": "10.59.0.40",
                "Port": 1432,
                "PhoneNumbers": [
                    "+49176 12345678"
                ],
                "Template": "<?xml version=\"1.0\"?><cmgs destaddr=\"{number}\">OpenADMS \"Project X\": {asctime} - {level} - {msg}</cmgs>"
            },
            "MailAlertHandler": {
                "Enabled": false,
                "LogLevels": [
                    "Error",
                    "Critical"
                ],
                "Subject": "[OpenADMS] Alert Message - R318",
                "Recipients": [
                    "engineer@example.com"
                ],
                "Charset": "utf-8",
                "UserName": "monitoring@example.com",
                "UserPassword": "secret",
                "Host": "smtp.example.com",
                "Port": 465,
                "TLS": "Yes"
            }
        }
    },
    "DistanceCorrector": {
        "Temperature": null,
        "Pressure": null,
        "Humidity": 0.6,
        "AtmosphericCorrectionEnabled": true,
        "SealevelCorrectionEnabled": false,
        "SensorHeight": 100.0
    },
    "HelmertTransformer": {
        "ResidualMismatchTransformationEnabled": true,
        "ViewPoint": {
            "ID": "P6",
            "Receivers": [
                "FileExporter",
                "OnlineViewer/P6"
            ]
        },
        "TiePoints": {
            "P1": {
                "X": 2000.0000,
                "Y": 1000.0000,
                "Z": 100.0000
            },
            "P2": {
                "X": 1995.4880,
                "Y": 1003.7680,
                "Z": 100.0080
            },
            "P3": {
                "X": 1994.4900,
                "Y": 996.2600,
                "Z": 100.0210
            }
        }
    },
    "ReturnCodeInspector": {
        "Retries": 3,
        "Keys": [
            "ReturnCode",
            "RCChangeFace",
            "RCGetFace0",
            "RCGetFace1",
            "RCGetValues0",
            "RCGetValues1",
            "RCMeasureDistance0",
            "RCMeasureDistance1",
            "RCSetDirection"
        ]
    },
    "PolarTransformer": {
        "SensorPosition": {
            "X": 2000.0000,
            "Y": 992.5100,
            "Z": 100.0000
        },
        "AzimuthPosition": {
            "X": 2000.0000,
            "Y": 1000.0000
        }
    },
    "RealTimePublisher": {
        "Enabled": true,
        "Receivers": [
            "OnlineViewer"
        ]
    },
    "FileExporter": {
        "FileExtension": ".csv",
        "FileName": "{port}_{id}_{date}",
        "FileRotation": "monthly",
        "Paths": [
            "./data"
        ],
        "Separator": ",",
        "DateTimeFormat": "%Y-%m-%dT%H:%M:%S.%f"
    }
}
