

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>System Description &mdash; OpenADMS Node 0.7 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="OpenADMS Node 0.7 documentation" href="index.html"/>
        <link rel="next" title="OpenADMS Node Modules" href="modules.html"/>
        <link rel="prev" title="Configuration" href="configuration.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> OpenADMS Node
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation of OpenADMS Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running OpenADMS Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">System Description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#observation-entity">Observation Entity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">OpenADMS Node Modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenADMS Node</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>System Description</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/system.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="system-description">
<h1>System Description<a class="headerlink" href="#system-description" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section is still under construction.</p>
</div>
<div class="section" id="observation-entity">
<h2>Observation Entity<a class="headerlink" href="#observation-entity" title="Permalink to this headline">¶</a></h2>
<p>All information regarding a single measurement of a sensor is stored in a
JSON-based observation entity. This means, every time a request to a sensor
should be made, the request has to be embedded in an observation entity together
with all necessary meta data, like name and target of the observation, name of
the serial port, regular expression pattern of the sensor’s raw response, and so
on.</p>
<p>These settings are stored in a configuration file in JSON format. OpenADMS Node
reads the configuration file and processes the observations according to their
definition.</p>
<p>Observation entities can be extended by simply adding new key-value pairs.
Please be aware that most elements in an observation entity are mandatory. The
following basic observation describes a temperature measurement with an STS DTM
meteorological sensor.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;getValues&quot;</span><span class="p">,</span>
  <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;get sensor values (temperature, pressure)&quot;</span><span class="p">,</span>
  <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;TempPress&quot;</span><span class="p">,</span>
  <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;6dc84c06018043ba84ac90636ed0f677&quot;</span><span class="p">,</span>
  <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="s2">&quot;6600055d61ce4d8698f77596e436785f&quot;</span><span class="p">,</span>
  <span class="s2">&quot;node&quot;</span><span class="p">:</span> <span class="s2">&quot;21bcf8c16a664b17bbc9cd4221fd8541&quot;</span><span class="p">,</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;onetime&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;com1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;preProcessor&quot;</span><span class="p">,</span>
    <span class="s2">&quot;distanceCorrector&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fileExporter&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;nextReceiver&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
  <span class="s2">&quot;portName&quot;</span><span class="p">:</span> <span class="s2">&quot;COM1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;passiveMode&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;requestsOrder&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;getTemperature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;getPressure&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;requestSets&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;getTemperature&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;TEMP ?</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;response&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;+23.1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?P&lt;temperature&gt;[+-]?</span><span class="se">\\</span><span class="s2">d+</span><span class="se">\\</span><span class="s2">.+</span><span class="se">\\</span><span class="s2">d)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mf">1.0</span>
    <span class="p">},</span>
    <span class="s2">&quot;getPressure&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;PRES ?</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;response&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;+1011.3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?P&lt;pressure&gt;[+-]?</span><span class="se">\\</span><span class="s2">d+</span><span class="se">\\</span><span class="s2">.+</span><span class="se">\\</span><span class="s2">d)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mf">1.0</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;responseSets&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
      <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;23.1&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;pressure&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;mbar&quot;</span><span class="p">,</span>
      <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;1011.3&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mf">20.0</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The single elements of this observation entity are explained below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="11%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>Short description of the observation (optional).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">enabled</span></code></td>
<td>Boolean</td>
<td>Condition of the observation (enabled/disabled).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>String</td>
<td>ID of the observation (UUID4 hex).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>Name of the observation.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">nextReceiver</span></code></td>
<td>Integer</td>
<td>Index of the next receiver (0 … n).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">node</span></code></td>
<td>String</td>
<td>ID of the sensor node (UUID4 hex).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">onetime</span></code></td>
<td>Boolean</td>
<td>If true, observation will be send one time only.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">passiveMode</span></code></td>
<td>Boolean</td>
<td>If true, serial port communication is passive only (depends on sensor).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">portName</span></code></td>
<td>String</td>
<td>Name of the serial port (will be added automatically).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">project</span></code></td>
<td>String</td>
<td>ID of the project (UUID4 hex).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">receivers</span></code></td>
<td>List</td>
<td>List of modules the observation will be send to sequentially.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">requestSets</span></code></td>
<td>Dict</td>
<td>Requests to the sensor, response patterns, etc.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">requestsOrder</span></code></td>
<td>List</td>
<td>Defines the order of the requests.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">responseSets</span></code></td>
<td>Dict</td>
<td>Response units, types, and values.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sensorName</span></code></td>
<td>String</td>
<td>Name of the sensor (will be added by the scheduler).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sensorType</span></code></td>
<td>String</td>
<td>Type of sensor (e.g., total station, inclinometer, …).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sleepTime</span></code></td>
<td>Float</td>
<td>Time in seconds to wait before the next observation.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">target</span></code></td>
<td>String</td>
<td>Target name of the observation (e.g., point name, target location).</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules.html" class="btn btn-neutral float-right" title="OpenADMS Node Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="configuration.html" class="btn btn-neutral" title="Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Hochschule Neubrandenburg – University of Applied Sciences.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>