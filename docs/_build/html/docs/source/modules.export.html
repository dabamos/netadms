

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>modules.export module &mdash; OpenADMS Node 0.7 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="OpenADMS Node 0.7 documentation" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> OpenADMS Node
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation of OpenADMS Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../running.html">Running OpenADMS Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../system.html">System Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openadms-node-modules.html">OpenADMS Node Modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OpenADMS Node</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>modules.export module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/source/modules.export.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-modules.export">
<span id="modules-export-module"></span><h1>modules.export module<a class="headerlink" href="#module-modules.export" title="Permalink to this headline">¶</a></h1>
<p>Module for the export of observations.</p>
<dl class="class">
<dt id="modules.export.CloudExporter">
<em class="property">class </em><code class="descclassname">modules.export.</code><code class="descname">CloudExporter</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#modules.export.CloudExporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="modules.prototype.html#modules.prototype.Prototype" title="modules.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">modules.prototype.Prototype</span></code></a></p>
<p>CloudExporter sends observation data to an OpenADMS Server instance.
Observations are cached locally in case the service is temporary not
reachable and then send again. Caching can be done either in-memory or
file-based. In-memory is faster and requires less I/O operations, but
cached observations do not persist over restarts (data loss may be occur).</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> – URL of the OpenADMS Server instance.</li>
<li><strong>user</strong> – User name for OpenADMS Server.</li>
<li><strong>password</strong> – Password for OpenADMS Server.</li>
<li><strong>authMethod</strong> – Authentication method (<cite>basic</cite> or <cite>jwt</cite>).</li>
<li><strong>db</strong> – File name of the cache database (e.g.: <code class="docutils literal"><span class="pre">cache.json</span></code>).</li>
<li><strong>storage</strong> – Storage type (<cite>file</cite> or <cite>memory</cite>).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>The configuration may be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.examples.com/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">,</span>
    <span class="s2">&quot;authMethod&quot;</span><span class="p">:</span> <span class="s2">&quot;basic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;db&quot;</span><span class="p">:</span> <span class="s2">&quot;cache.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;storage&quot;</span><span class="p">:</span> <span class="s2">&quot;file&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="method">
<dt id="modules.export.CloudExporter.has_cached_observation_data">
<code class="descname">has_cached_observation_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#modules.export.CloudExporter.has_cached_observation_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not a cached observation exists in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if cached observation exists, False if not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="modules.export.CloudExporter.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#modules.export.CloudExporter.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Caches observation object locally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – Observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The observation object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="modules.export.CloudExporter.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#modules.export.CloudExporter.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends cached observation to RESTful service.</p>
</dd></dl>

<dl class="method">
<dt id="modules.export.CloudExporter.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#modules.export.CloudExporter.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the module.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="modules.export.FileExporter">
<em class="property">class </em><code class="descclassname">modules.export.</code><code class="descname">FileExporter</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#modules.export.FileExporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="modules.prototype.html#modules.prototype.Prototype" title="modules.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">modules.prototype.Prototype</span></code></a></p>
<p>FileExporter writes sensor data to a flat file in CSV format.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dateTimeFormat</strong> (<em>str</em>) – Format of date and time (see <cite>arrow</cite> library).</li>
<li><strong>fileExtension</strong> (<em>str</em>) – Extension of the file (<code class="docutils literal"><span class="pre">.txt</span></code> or <code class="docutils literal"><span class="pre">.csv</span></code>).</li>
<li><strong>fileName</strong> (<em>str</em>) – File name with optional placeholders <code class="docutils literal"><span class="pre">{{date}}</span></code>,
<code class="docutils literal"><span class="pre">{{target}}</span></code>, <code class="docutils literal"><span class="pre">{{name}}</span></code>, <code class="docutils literal"><span class="pre">{{port}}</span></code>.</li>
<li><strong>fileRotation</strong> (<em>str</em>) – Either <code class="docutils literal"><span class="pre">none</span></code>, <code class="docutils literal"><span class="pre">daily</span></code>, <code class="docutils literal"><span class="pre">monthly</span></code>, or
<code class="docutils literal"><span class="pre">yearly</span></code>.</li>
<li><strong>paths</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Paths to save files to (multiple paths possible).</li>
<li><strong>separator</strong> (<em>str</em>) – Separator between values within the CSV file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="modules.export.FileExporter.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#modules.export.FileExporter.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends data to a flat file in CSV format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – Observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The observation object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="modules.export.FileRotation">
<em class="property">class </em><code class="descclassname">modules.export.</code><code class="descname">FileRotation</code><a class="headerlink" href="#modules.export.FileRotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.Enum</span></code></p>
<p>Enumeration of file rotation times of flat files.</p>
<dl class="attribute">
<dt id="modules.export.FileRotation.DAILY">
<code class="descname">DAILY</code><em class="property"> = 1</em><a class="headerlink" href="#modules.export.FileRotation.DAILY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="modules.export.FileRotation.MONTHLY">
<code class="descname">MONTHLY</code><em class="property"> = 2</em><a class="headerlink" href="#modules.export.FileRotation.MONTHLY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="modules.export.FileRotation.NONE">
<code class="descname">NONE</code><em class="property"> = 0</em><a class="headerlink" href="#modules.export.FileRotation.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="modules.export.FileRotation.YEARLY">
<code class="descname">YEARLY</code><em class="property"> = 3</em><a class="headerlink" href="#modules.export.FileRotation.YEARLY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="modules.export.RealTimePublisher">
<em class="property">class </em><code class="descclassname">modules.export.</code><code class="descname">RealTimePublisher</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#modules.export.RealTimePublisher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="modules.prototype.html#modules.prototype.Prototype" title="modules.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">modules.prototype.Prototype</span></code></a></p>
<p>RealTimePublisher sends copies of <cite>Observation</cite> objects to a list of
receivers.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receivers</strong> (<em>List</em>) – List of modules to send the observation to.</li>
<li><strong>enabled</strong> (<em>bool</em>) – Turns processing of observations on or off.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="modules.export.RealTimePublisher.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#modules.export.RealTimePublisher.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Hochschule Neubrandenburg – University of Applied Sciences.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>