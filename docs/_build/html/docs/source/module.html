

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>module package &mdash; OpenADMS Node 0.7 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="OpenADMS Node 0.7 documentation" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> OpenADMS Node
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation of OpenADMS Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../running.html">Running OpenADMS Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../system.html">System Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">OpenADMS Node Modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OpenADMS Node</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>module package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/source/module.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-package">
<h1>module package<a class="headerlink" href="#module-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-module.database">
<span id="module-database-module"></span><h2>module.database module<a class="headerlink" href="#module-module.database" title="Permalink to this headline">¶</a></h2>
<p>Connectivity modules for various NoSQL databases.</p>
<dl class="class">
<dt id="module.database.CouchDriver">
<em class="property">class </em><code class="descclassname">module.database.</code><code class="descname">CouchDriver</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.database.CouchDriver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>CouchDriver provides connectivity for Apache CouchDB. Observations send to
a CouchDriver instance will be saved in the database set in the
configuration. This module is for dumping observations only.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> (<em>str</em>) – FQDN or IP address of CouchDB server.</li>
<li><strong>port</strong> (<em>int</em>) – Port number of CouchDB server.</li>
<li><strong>db</strong> (<em>str</em>) – Database name.</li>
<li><strong>tls</strong> (<em>bool</em>) – Use TLS encryption (default: False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.database.CouchDriver.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.database.CouchDriver.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.export">
<span id="module-export-module"></span><h2>module.export module<a class="headerlink" href="#module-module.export" title="Permalink to this headline">¶</a></h2>
<p>Module for the export of observations.</p>
<dl class="class">
<dt id="module.export.CloudExporter">
<em class="property">class </em><code class="descclassname">module.export.</code><code class="descname">CloudExporter</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.export.CloudExporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>CloudExporter sends observation data to a RESTful on-line service.
Observations are cached locally in case the service is temporary not
reachable.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> – URL of the REST service.</li>
<li><strong>user</strong> – User name for REST service.</li>
<li><strong>password</strong> – Password for REST service.</li>
<li><strong>authMethod</strong> – Authentication method (<cite>basic</cite> or <cite>jwt</cite>).</li>
<li><strong>db</strong> – File name of the cache database (e.g.: <code class="docutils literal"><span class="pre">cache.json</span></code>).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.export.CloudExporter.cache_observation">
<code class="descname">cache_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.export.CloudExporter.cache_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Caches the given observation in the local cache database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – Observation object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.export.CloudExporter.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.export.CloudExporter.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Caches observation object locally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – Observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The observation object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.export.CloudExporter.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#module.export.CloudExporter.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends cached observation to RESTful service.</p>
</dd></dl>

<dl class="method">
<dt id="module.export.CloudExporter.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.export.CloudExporter.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the module.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.export.FileExporter">
<em class="property">class </em><code class="descclassname">module.export.</code><code class="descname">FileExporter</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.export.FileExporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>FileExporter writes sensor data to a flat file in CSV format.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dateTimeFormat</strong> (<em>str</em>) – Format of date and time (see <cite>arrow</cite> library).</li>
<li><strong>fileExtension</strong> (<em>str</em>) – Extension of the file (<cite>.txt</cite> or <cite>.csv</cite>).</li>
<li><strong>fileName</strong> (<em>str</em>) – File name with optional placeholders <cite>{{date}}</cite>,
<cite>{{target}}</cite>, <cite>{{name}}</cite>, <cite>{{port}}</cite>.</li>
<li><strong>fileRotation</strong> (<em>str</em>) – Either <cite>none</cite>, <cite>daily</cite>, <cite>monthly</cite>, or <cite>yearly</cite>.</li>
<li><strong>paths</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Paths to save files to (multiple paths possible).</li>
<li><strong>separator</strong> (<em>str</em>) – Separator between values within the CSV file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.export.FileExporter.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.export.FileExporter.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends data to a flat file in CSV format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – Observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The observation object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.export.FileRotation">
<em class="property">class </em><code class="descclassname">module.export.</code><code class="descname">FileRotation</code><a class="headerlink" href="#module.export.FileRotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.Enum</span></code></p>
<p>Enumeration of file rotation times of flat files.</p>
<dl class="attribute">
<dt id="module.export.FileRotation.DAILY">
<code class="descname">DAILY</code><em class="property"> = 1</em><a class="headerlink" href="#module.export.FileRotation.DAILY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.export.FileRotation.MONTHLY">
<code class="descname">MONTHLY</code><em class="property"> = 2</em><a class="headerlink" href="#module.export.FileRotation.MONTHLY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.export.FileRotation.NONE">
<code class="descname">NONE</code><em class="property"> = 0</em><a class="headerlink" href="#module.export.FileRotation.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.export.FileRotation.YEARLY">
<code class="descname">YEARLY</code><em class="property"> = 3</em><a class="headerlink" href="#module.export.FileRotation.YEARLY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.export.RealTimePublisher">
<em class="property">class </em><code class="descclassname">module.export.</code><code class="descname">RealTimePublisher</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.export.RealTimePublisher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>RealTimePublisher sends copies of <cite>Observation</cite> objects to a list of
receivers.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receivers</strong> (<em>List</em>) – List of modules to send the observation to.</li>
<li><strong>enabled</strong> (<em>bool</em>) – Turns processing of observations on or off.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.export.RealTimePublisher.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.export.RealTimePublisher.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.linux">
<span id="module-linux-module"></span><h2>module.linux module<a class="headerlink" href="#module-module.linux" title="Permalink to this headline">¶</a></h2>
<p>Module for Linux-specific features, which are not available on other
operating systems.</p>
<dl class="class">
<dt id="module.linux.InterruptCounter">
<em class="property">class </em><code class="descclassname">module.linux.</code><code class="descname">InterruptCounter</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.linux.InterruptCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>InterruptCounter counts GPIO interrupts on a single pin of a Raspberry Pi
single-board computer by using <cite>RPi.GPIO</cite>. Works on Linux only.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bounceTime</strong> (<em>float</em>) – Bounce time in ms.</li>
<li><strong>countTime</strong> (<em>float</em>) – Observation time in s.</li>
<li><strong>pin</strong> (<em>int</em>) – GPIO pin number of the Raspberry Pi.</li>
<li><strong>receiver</strong> (<em>str</em>) – Name of the receiving module.</li>
<li><strong>sensorName</strong> (<em>str</em>) – Name of the connected sensor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.linux.InterruptCounter.init_gpio">
<code class="descname">init_gpio</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.linux.InterruptCounter.init_gpio" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the GPIO interface.</p>
</dd></dl>

<dl class="method">
<dt id="module.linux.InterruptCounter.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.linux.InterruptCounter.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The counter loop. Creates a new observation at the defined
interval.</p>
</dd></dl>

<dl class="method">
<dt id="module.linux.InterruptCounter.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.linux.InterruptCounter.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the module.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.notification">
<span id="module-notification-module"></span><h2>module.notification module<a class="headerlink" href="#module-module.notification" title="Permalink to this headline">¶</a></h2>
<p>Module for alerting.</p>
<dl class="class">
<dt id="module.notification.AlertMessageFormatter">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">AlertMessageFormatter</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.AlertMessageFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>AlertMessageFormatter caches and formats alerts. They are then forwarded to
other modules for further processing and transmission.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>messageCollectionEnabled</strong> (<em>bool</em>) – If true, cache alert messages.</li>
<li><strong>messageCollectionTime</strong> (<em>float</em>) – Time to cache messages before sending.</li>
<li><strong>properties</strong> (<em>Dict</em>) – Additional properties to add to the message.</li>
<li><strong>receiver</strong> (<em>str</em>) – Name of the receiving module.</li>
<li><strong>templates</strong> (<em>Dict</em>) – Templates for <cite>header</cite>, <cite>body</cite>, and <cite>footer</cite>.</li>
<li><strong>type</strong> (<em>str</em>) – Type of the message to be send (<cite>email</cite>, <cite>sms</cite>, etc.).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.notification.AlertMessageFormatter.handle_alert_message">
<code class="descname">handle_alert_message</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.AlertMessageFormatter.handle_alert_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles messages of type <cite>alert</cite> and either caches them or forwards
them to the <cite>process_alert_messages()</cite> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> – The alert header.</li>
<li><strong>payload</strong> – The alert payload.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.AlertMessageFormatter.process_alert_messages">
<code class="descname">process_alert_messages</code><span class="sig-paren">(</span><em>receiver: str, alerts: typing.List[typing.Dict[str, str]]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.AlertMessageFormatter.process_alert_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a template and fills values of an alert message into header,
body, and footer. The parsed template is forwarded to an agent (e-mail,
SMS, …).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receiver</strong> – The receiver of the alert.</li>
<li><strong>alerts</strong> – The list of alert messages.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.AlertMessageFormatter.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.AlertMessageFormatter.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the cached alert messages.</p>
</dd></dl>

<dl class="method">
<dt id="module.notification.AlertMessageFormatter.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.AlertMessageFormatter.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.notification.Alerter">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">Alerter</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.Alerter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>Alerter is used to send warning and error messages to other modules.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>is_enabled</strong> (<em>bool</em>) – If true, alerter is enabled.</li>
<li><strong>modules</strong> (<em>Dict</em>) – Modules to send alert messages to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.notification.Alerter.fire">
<code class="descname">fire</code><span class="sig-paren">(</span><em>record: logging.LogRecord</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.Alerter.fire" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.notification.Alerter.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.Alerter.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.notification.Alerter.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.Alerter.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.notification.Heartbeat">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">Heartbeat</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.Heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>Heartbeat sends heartbeat messages (“pings”) to the message broker by using
the message type <cite>heartbeat</cite>.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>interval</strong> (<em>float</em>) – Interval for sending heartbeats.</li>
<li><strong>receivers</strong> (<em>List</em>) – List of topics to send heartbeats to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.notification.Heartbeat.process_heartbeat">
<code class="descname">process_heartbeat</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.Heartbeat.process_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.notification.Heartbeat.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.Heartbeat.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.notification.Heartbeat.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.Heartbeat.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.notification.HeartbeatMonitor">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">HeartbeatMonitor</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.HeartbeatMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<dl class="method">
<dt id="module.notification.HeartbeatMonitor.handle_heartbeat">
<code class="descname">handle_heartbeat</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.HeartbeatMonitor.handle_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.notification.IrcAgent">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">IrcAgent</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.IrcAgent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>IrcAgent sends alert messages to the Internet Relay Chat. This module acts
as a simple IRC bot which connects to an IRC server and sends text messages
to a channel or user. Only a few commands of RFC 1459 are implemented.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>channel</strong> (<em>str</em>) – IRC channel to join (e.g.: <cite>#test</cite>).</li>
<li><strong>host</strong> (<em>str</em>) – FQDN or IP address of the IRC server.</li>
<li><strong>port</strong> (<em>int</em>) – Port number of the IRC server.</li>
<li><strong>is_tls</strong> (<em>bool</em>) – If true, use TLS encryption.</li>
<li><strong>nickname</strong> (<em>str</em>) – Nickname to use (default: <cite>openadms</cite>).</li>
<li><strong>password</strong> (<em>str</em>) – Password of registered nickname (optional).</li>
<li><strong>target</strong> (<em>str</em>) – IRC channel or user to send messages to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.notification.IrcAgent.handle_irc">
<code class="descname">handle_irc</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.IrcAgent.handle_irc" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles messages of type <cite>irc</cite> and puts alert message on a queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> – The message header.</li>
<li><strong>payload</strong> – The message payload.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.IrcAgent.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.IrcAgent.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects to IRC server, enters channel, and sends messages. Reacts
to PING messages by the server.</p>
</dd></dl>

<dl class="method">
<dt id="module.notification.IrcAgent.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.IrcAgent.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.notification.MailAgent">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">MailAgent</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.MailAgent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>MailAgents sends e-mails via SMTP.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>charset</strong> (<em>str</em>) – Character set of the email.</li>
<li><strong>defaultSubject</strong> (<em>str</em>) – Default subject if no subject is given.</li>
<li><strong>host</strong> (<em>str</em>) – FQDN or IP address of the SMTP server.</li>
<li><strong>startTls</strong> (<em>bool</em>) – If true, use StartTLS encryption.</li>
<li><strong>tls</strong> (<em>bool</em>) – If true, use TLS encryption.</li>
<li><strong>port</strong> (<em>int</em>) – Port number of the SMTP server.</li>
<li><strong>userMail</strong> (<em>str</em>) – Email address of the sender.</li>
<li><strong>userName</strong> (<em>str</em>) – SMTP user name.</li>
<li><strong>userPassword</strong> (<em>str</em>) – SMTP user password.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.notification.MailAgent.handle_mail">
<code class="descname">handle_mail</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.MailAgent.handle_mail" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles messages of type <cite>email</cite> and forwards them to the
<cite>process_mail()</cite> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> – The message header.</li>
<li><strong>payload</strong> – The message payload.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.MailAgent.process_mail">
<code class="descname">process_mail</code><span class="sig-paren">(</span><em>mail_from: str</em>, <em>mail_to: str</em>, <em>mail_subject: str</em>, <em>mail_message: str</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.MailAgent.process_mail" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends e-mails by SMTP.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mail_from</strong> – The sender of the email.</li>
<li><strong>mail_to</strong> – The recipient of the email.</li>
<li><strong>mail_subject</strong> – The subject of the email.</li>
<li><strong>mail_message</strong> – The body test of the email.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.notification.MastodonAgent">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">MastodonAgent</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.MastodonAgent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>Mastodon sends toots to the Mastodon social network. Requires the Python
module <cite>Mastodon.py</cite>.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>email</strong> (<em>str</em>) – Login email address of Mastodon account.</li>
<li><strong>password</strong> (<em>str</em>) – Login password of Mastodon account.</li>
<li><strong>url</strong> (<em>str</em>) – URL of the Mastodon instance (e.g.: <cite>https://mastodon.at</cite>).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.notification.MastodonAgent.handle_mastodon">
<code class="descname">handle_mastodon</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.MastodonAgent.handle_mastodon" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the Mastodon API to send toots to the network.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.notification.RssAgent">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">RssAgent</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.RssAgent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>RSSAgent creates an RSS 2.0 feed out of given data.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>author</strong> (<em>str</em>) – Author of the RSS feed.</li>
<li><strong>description</strong> (<em>str</em>) – Description text of the RSS feed.</li>
<li><strong>language</strong> (<em>str</em>) – Language of the RSS feed (e.g.: <cite>en-gb</cite>).</li>
<li><strong>link</strong> (<em>str</em>) – URL to the RSS feed.</li>
<li><strong>size</strong> (<em>int</em>) – Number of entries in the RSS feed.</li>
<li><strong>title</strong> (<em>str</em>) – Title of the RSS feed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.notification.RssAgent.escape">
<code class="descname">escape</code><span class="sig-paren">(</span><em>html: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.notification.RssAgent.escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given HTML with ampersands, quotes, and carets
encoded.</p>
</dd></dl>

<dl class="method">
<dt id="module.notification.RssAgent.get_rfc_822">
<code class="descname">get_rfc_822</code><span class="sig-paren">(</span><em>date: str = None</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.notification.RssAgent.get_rfc_822" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a date string formatted as RFC 822. If no date is given, the
current date is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> – A string with date and time in UTC.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A string with the date and time as RFC 822.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.RssAgent.get_rss_feed">
<code class="descname">get_rss_feed</code><span class="sig-paren">(</span><em>vars: typing.Dict[str, str], items: typing.List[typing.Dict[str, str]]</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.notification.RssAgent.get_rss_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string with the RSS 2.0 feed. Feed template is hard-coded
into this method. Rather quick and dirty, but does the job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vars</strong> – The variables to replace in the RSS template.</li>
<li><strong>items</strong> – The items of the RSS feeds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The RSS 2.0 feed as a string.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.RssAgent.handle_rss">
<code class="descname">handle_rss</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.RssAgent.handle_rss" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles messages of type <cite>rss</cite> and forwards them to the
<cite>process_rss()</cite> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> – The message header.</li>
<li><strong>payload</strong> – The message payload.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.RssAgent.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>template: str</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.notification.RssAgent.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitutes placeholders in the template with variables from the
given arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>template</strong> – The template.</li>
<li><strong>kwargs</strong> – The key-value pairs.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">String with parsed template.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.RssAgent.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>file_path: pathlib.Path</em>, <em>contents: str</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.RssAgent.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes string to file.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.notification.ShortMessageAgent">
<em class="property">class </em><code class="descclassname">module.notification.</code><code class="descname">ShortMessageAgent</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.notification.ShortMessageAgent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>ShortMessageAgent uses a socket connection to a GSM modem to send SMS.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> (<em>str</em>) – FQDN or IP address of the SMS server.</li>
<li><strong>port</strong> (<em>int</em>) – Port number of the SMS server.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.notification.ShortMessageAgent.handle_short_message">
<code class="descname">handle_short_message</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.ShortMessageAgent.handle_short_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles messages of type <cite>sms</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> – The message header.</li>
<li><strong>payload</strong> – The message payload.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.notification.ShortMessageAgent.process_short_message">
<code class="descname">process_short_message</code><span class="sig-paren">(</span><em>number: str</em>, <em>message: str</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.notification.ShortMessageAgent.process_short_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an SMS to a socket server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>number</strong> – The number of the recipient (e.g., “+49 176 123456”).</li>
<li><strong>message</strong> – The message text.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.port">
<span id="module-port-module"></span><h2>module.port module<a class="headerlink" href="#module-module.port" title="Permalink to this headline">¶</a></h2>
<p>Module for sensor communication.</p>
<dl class="class">
<dt id="module.port.BluetoothPort">
<em class="property">class </em><code class="descclassname">module.port.</code><code class="descname">BluetoothPort</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.port.BluetoothPort" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>BluetoothPort is used for RFCOMM serial communication. It initiates a
socket connection to a sensor by using the native Bluetooth support of
Python 3.3. At the moment, the class is not very useful and needs further
testing.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> (<em>str</em>) – Port name.</li>
<li><strong>serverMacAddress</strong> (<em>str</em>) – MAC address of the server.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.port.BluetoothPort.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.port.BluetoothPort.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the socket connection.</p>
</dd></dl>

<dl class="method">
<dt id="module.port.BluetoothPort.get_mac_address">
<code class="descname">get_mac_address</code><span class="sig-paren">(</span><em>s: str</em><span class="sig-paren">)</span> &#x2192; typing.Union[str, NoneType]<a class="headerlink" href="#module.port.BluetoothPort.get_mac_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-formats a given MAC address.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> – String with MAC address.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">String with valid MAC address or None if address is invalid.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.port.BluetoothPort.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; typing.Union[core.observation.Observation, NoneType]<a class="headerlink" href="#module.port.BluetoothPort.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a request to the attached sensor and forwards the response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – Observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The extended observation object or None if connection failed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.port.BluetoothPort.sanitize">
<code class="descname">sanitize</code><span class="sig-paren">(</span><em>s: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.port.BluetoothPort.sanitize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts some non-printable characters of a given string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> – String to sanitize.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Sanitized string.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.port.SerialPort">
<em class="property">class </em><code class="descclassname">module.port.</code><code class="descname">SerialPort</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.port.SerialPort" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>SerialPort does I/O on a given serial port. The port can be used in either
active or passive mode. In active mode, the communication with the sensor is
based on request/response. In passive mode, the port just listens for
incoming data without sending any requests.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> (<em>str</em>) – Name of the port (e.g.: <cite>COM1</cite> or <cite>/dev/tty0</cite>).</li>
<li><strong>baudRate</strong> (<em>int</em>) – Baud rate (e.g.: 4800, 9600, or 115200).</li>
<li><strong>byteSize</strong> (<em>int</em>) – Start bits, either 5, 6, 7, or 8.</li>
<li><strong>stopBits</strong> (<em>float</em>) – Stop bits, either 1, 1.5, or 2.</li>
<li><strong>parity</strong> (<em>str</em>) – Parity, either <cite>odd</cite>, <cite>even</cite>, or <cite>none</cite>.</li>
<li><strong>softwareFlowControl</strong> (<em>bool</em>) – XON/XOFF flow control.</li>
<li><strong>hardwareFlowControl</strong> (<em>bool</em>) – RTS/CTS flow control.</li>
<li><strong>maxAttempts</strong> (<em>int</em>) – Maximum number of attempts to access the port.</li>
<li><strong>timeout</strong> (<em>float</em>) – Timeout in seconds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.port.SerialPort.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.port.SerialPort.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.port.SerialPort.listen">
<code class="descname">listen</code><span class="sig-paren">(</span><em>obs_draft: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.port.SerialPort.listen" title="Permalink to this definition">¶</a></dt>
<dd><p>Threaded method for passive mode. Reads incoming data from serial
port. Used for sensors which start streaming data without prior
request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs_draft</strong> – The observation draft with the response pattern.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.port.SerialPort.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; typing.Union[core.observation.Observation, NoneType]<a class="headerlink" href="#module.port.SerialPort.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes an observation object. Sends request to sensor and stores
response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – The observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The processed observation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.port.SerialPort.sanitize">
<code class="descname">sanitize</code><span class="sig-paren">(</span><em>s: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.port.SerialPort.sanitize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts some non-printable characters of a given string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.port.SerialPortConfiguration">
<em class="property">class </em><code class="descclassname">module.port.</code><code class="descname">SerialPortConfiguration</code><span class="sig-paren">(</span><em>port: str</em>, <em>baudrate: int</em>, <em>bytesize: int</em>, <em>stopbits: float</em>, <em>parity: str</em>, <em>timeout: float</em>, <em>xonxoff: bool</em>, <em>rtscts: bool</em><span class="sig-paren">)</span><a class="headerlink" href="#module.port.SerialPortConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>SerialPortConfiguration saves a serial port configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> – Name of the port (e.g.: <cite>COM1</cite> or <cite>/dev/tty0</cite>).</li>
<li><strong>baudrate</strong> – Baud rate (e.g.: 4800, 9600, or 115200).</li>
<li><strong>bytesize</strong> – Start bits, either 5, 6, 7, or 8.</li>
<li><strong>stopbits</strong> – Stop bits, either 1, 1.5, or 2.</li>
<li><strong>parity</strong> – Parity, either <cite>none</cite>, <cite>even</cite>, <cite>odd</cite>, <cite>mark</cite>, or <cite>space</cite>.</li>
<li><strong>timeout</strong> (<em>float</em>) – Timeout in seconds.</li>
<li><strong>xonxoff</strong> – Software flow control.</li>
<li><strong>rtscts</strong> – Hardware flow control.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="module.port.SerialPortConfiguration.baudrate">
<code class="descname">baudrate</code><a class="headerlink" href="#module.port.SerialPortConfiguration.baudrate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.port.SerialPortConfiguration.bytesize">
<code class="descname">bytesize</code><a class="headerlink" href="#module.port.SerialPortConfiguration.bytesize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.port.SerialPortConfiguration.parity">
<code class="descname">parity</code><a class="headerlink" href="#module.port.SerialPortConfiguration.parity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.port.SerialPortConfiguration.port">
<code class="descname">port</code><a class="headerlink" href="#module.port.SerialPortConfiguration.port" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.port.SerialPortConfiguration.rtscts">
<code class="descname">rtscts</code><a class="headerlink" href="#module.port.SerialPortConfiguration.rtscts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.port.SerialPortConfiguration.stopbits">
<code class="descname">stopbits</code><a class="headerlink" href="#module.port.SerialPortConfiguration.stopbits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.port.SerialPortConfiguration.timeout">
<code class="descname">timeout</code><a class="headerlink" href="#module.port.SerialPortConfiguration.timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.port.SerialPortConfiguration.xonxoff">
<code class="descname">xonxoff</code><a class="headerlink" href="#module.port.SerialPortConfiguration.xonxoff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.processing">
<span id="module-processing-module"></span><h2>module.processing module<a class="headerlink" href="#module-module.processing" title="Permalink to this headline">¶</a></h2>
<p>Module for data processing (pre-processing, atmospheric corrections,
transformations, and so on).</p>
<dl class="class">
<dt id="module.processing.PreProcessor">
<em class="property">class </em><code class="descclassname">module.processing.</code><code class="descname">PreProcessor</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.processing.PreProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>PreProcessor extracts values from the raw responses of a given observation
and converts them to the defined data types.</p>
<p>This module has nothing to configure.</p>
<dl class="method">
<dt id="module.processing.PreProcessor.is_float">
<code class="descname">is_float</code><span class="sig-paren">(</span><em>value: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#module.processing.PreProcessor.is_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether a value is float or not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> – The value string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if value is float, false if not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.processing.PreProcessor.is_int">
<code class="descname">is_int</code><span class="sig-paren">(</span><em>value: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#module.processing.PreProcessor.is_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether a value is int or not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> – The value string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if value is integer, false if not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.processing.PreProcessor.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.processing.PreProcessor.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the values from the raw responses of the observation
using regular expressions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – The observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The observation object with extracted and converted responses.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.processing.PreProcessor.sanitize">
<code class="descname">sanitize</code><span class="sig-paren">(</span><em>s: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.processing.PreProcessor.sanitize" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes some non-printable characters from a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> – String to sanitize.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Sanitized string.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.processing.PreProcessor.to_float">
<code class="descname">to_float</code><span class="sig-paren">(</span><em>raw_value: str</em><span class="sig-paren">)</span> &#x2192; typing.Union[float, NoneType]<a class="headerlink" href="#module.processing.PreProcessor.to_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts string to float.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_value</strong> – The raw string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Float number if string can be converted, otherwise None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.processing.PreProcessor.to_int">
<code class="descname">to_int</code><span class="sig-paren">(</span><em>raw_value: str</em><span class="sig-paren">)</span> &#x2192; typing.Union[int, NoneType]<a class="headerlink" href="#module.processing.PreProcessor.to_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts string to int.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>raw_value</strong> – The raw string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Integer number if string can be converted, otherwise None.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.processing.ResponseValueInspector">
<em class="property">class </em><code class="descclassname">module.processing.</code><code class="descname">ResponseValueInspector</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.processing.ResponseValueInspector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>ResponseValueInspector checks if response values of observations are within
defined thresholds and creates critical log messages if not.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observations</strong> (<em>Dict</em>) – Observations to inspect.</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>The configuration may be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;observations&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;getDistance&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;slopeDist&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
                <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">300.0</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="method">
<dt id="module.processing.ResponseValueInspector.is_number">
<code class="descname">is_number</code><span class="sig-paren">(</span><em>value: typing.Any</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#module.processing.ResponseValueInspector.is_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether a value is a number or not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> – The value variable.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True of value is a number, false if not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.processing.ResponseValueInspector.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.processing.ResponseValueInspector.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks, if responses are inside defined bounds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – The observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The untouched observation object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.processing.ReturnCodeInspector">
<em class="property">class </em><code class="descclassname">module.processing.</code><code class="descname">ReturnCodeInspector</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.processing.ReturnCodeInspector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>ReturnCodeInspector inspects the return code in an observation sent by
sensors of Leica Geosystems and creates an appropriate log message.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>responseSets</strong> (<em>List</em>) – Names of response sets to inspect.</li>
<li><strong>retries</strong> (<em>int</em>) – Number of retries in case of an error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.processing.ReturnCodeInspector.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.processing.ReturnCodeInspector.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.processing.ReturnCodes">
<em class="property">class </em><code class="descclassname">module.processing.</code><code class="descname">ReturnCodes</code><a class="headerlink" href="#module.processing.ReturnCodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>ReturnCodes stores a dictionary of return codes of sensors of Leica
Geosystems. The dictionary is static and has the following structure:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="o">&lt;</span><span class="n">return_code</span><span class="o">&gt;</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">&lt;</span><span class="n">log_level</span><span class="o">&gt;</span> <span class="p">(</span><span class="nb">int</span><span class="p">),</span>
        <span class="o">&lt;</span><span class="n">retry_measurement</span><span class="o">&gt;</span> <span class="p">(</span><span class="nb">bool</span><span class="p">),</span>
        <span class="o">&lt;</span><span class="n">log_message</span><span class="o">&gt;</span> <span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The return code numbers and messages are take from the official GeoCOM
reference manual of the Leica TPS1200, TS30, and TM30 total stations. The
log level can be set to these values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">5</span><span class="p">:</span> <span class="n">CRITICAL</span><span class="p">,</span>
<span class="mi">4</span><span class="p">:</span> <span class="n">ERROR</span><span class="p">,</span>
<span class="mi">3</span><span class="p">:</span> <span class="n">WARNING</span><span class="p">,</span>
<span class="mi">2</span><span class="p">:</span> <span class="n">INFO</span><span class="p">,</span>
<span class="mi">1</span><span class="p">:</span> <span class="n">DEBUG</span><span class="p">,</span>
<span class="mi">0</span><span class="p">:</span> <span class="n">NONE</span><span class="o">.</span>
</pre></div>
</div>
<p>Please choose a proper value for each return code.</p>
<dl class="attribute">
<dt id="module.processing.ReturnCodes.codes">
<code class="descname">codes</code><em class="property"> = {2: [4, False, 'Unknown error, result unspecified'], 3: [3, False, 'Invalid result'], 4: [4, False, 'Fatal error'], 5: [4, False, 'GeoCOM command unknown (not implemented yet)'], 6: [4, False, 'Function execution timed out (result unspecified)'], 13: [4, True, 'System busy'], 514: [4, False, 'Several targets detected'], 1283: [3, False, 'Measurement without full correction'], 1284: [3, False, 'Accuracy can not be guaranteed'], 1285: [4, True, 'Only angle measurement valid'], 1288: [3, False, 'Only angle measurement valid, but without full correction'], 1292: [4, True, 'Distance measurement not done (no aim, etc.)'], 8704: [4, True, 'Position not reached'], 8708: [4, True, 'Position not exactly reached'], 8710: [4, True, 'No target detected'], 8711: [4, False, 'Multiple targets detected'], 8716: [4, True, 'Target position not exactly reached']}</em><a class="headerlink" href="#module.processing.ReturnCodes.codes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.processing.UnitConverter">
<em class="property">class </em><code class="descclassname">module.processing.</code><code class="descname">UnitConverter</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.processing.UnitConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>UnitConverter can be used to convert response values of arbitrary
observations. For instance, a response in centimeters can be converted to
meters by setting a scale factor.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>&lt;responseSetName&gt;</strong> (<em>Dict</em>) – Responses to convert.</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>The configuration may be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;slopeDist&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;conversionType&quot;</span><span class="p">:</span> <span class="s2">&quot;scale&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sourceUnit&quot;</span><span class="p">:</span> <span class="s2">&quot;mm&quot;</span><span class="p">,</span>
        <span class="s2">&quot;scalingValue&quot;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
        <span class="s2">&quot;designatedUnit&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="method">
<dt id="module.processing.UnitConverter.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.processing.UnitConverter.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.processing.UnitConverter.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>value: float</em>, <em>factor: float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#module.processing.UnitConverter.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales value by factor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – Value to scale.</li>
<li><strong>factor</strong> – Scaling factor.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Scaled value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.prototype">
<span id="module-prototype-module"></span><h2>module.prototype module<a class="headerlink" href="#module-module.prototype" title="Permalink to this headline">¶</a></h2>
<p>Prototype class which can be used as a blueprint for other OpenADMS
modules.</p>
<dl class="class">
<dt id="module.prototype.Prototype">
<em class="property">class </em><code class="descclassname">module.prototype.</code><code class="descname">Prototype</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: typing.Any</em><span class="sig-paren">)</span><a class="headerlink" href="#module.prototype.Prototype" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Prototype is used as a blueprint for OpenADMS workers.</p>
<dl class="method">
<dt id="module.prototype.Prototype.add_handler">
<code class="descname">add_handler</code><span class="sig-paren">(</span><em>data_type: str, func: typing.Callable[[typing.Dict, typing.Dict], NoneType]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.prototype.Prototype.add_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a callback function for handling of messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_type</strong> – Name of the data type (observation, service, …).</li>
<li><strong>func</strong> – Callback function for handling the message.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.do_handle_observation">
<code class="descname">do_handle_observation</code><span class="sig-paren">(</span><em>header: typing.Dict</em>, <em>payload: typing.Dict</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.prototype.Prototype.do_handle_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles an observation by forwarding it to the processing method and
prepares the result for publishing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> – Message header.</li>
<li><strong>payload</strong> – Message payload.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.do_handle_service">
<code class="descname">do_handle_service</code><span class="sig-paren">(</span><em>header: typing.Dict</em>, <em>payload: typing.Dict</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.prototype.Prototype.do_handle_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes service messages and starts or stops the receiving module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> – Message header.</li>
<li><strong>payload</strong> – Message payload.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<p>A message to stop a module can be, for instance:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;service&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;stop&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Set <cite>action</cite> to <cite>start</cite> to start the module.</p>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.get_config">
<code class="descname">get_config</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#module.prototype.Prototype.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the validated configuration of the module. If no JSON schema
is available, the function just returns an unchecked configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*args</strong> – Key names to the configuration in the dictionary.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the module’s configuration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.handle">
<code class="descname">handle</code><span class="sig-paren">(</span><em>message: typing.List[typing.Dict]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.prototype.Prototype.handle" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes messages by calling callback functions for data
handling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>message</strong> – Header and payload of the message.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="module.prototype.Prototype.is_running">
<code class="descname">is_running</code><a class="headerlink" href="#module.prototype.Prototype.is_running" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.is_sequence">
<code class="descname">is_sequence</code><span class="sig-paren">(</span><em>arg: typing.Any</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#module.prototype.Prototype.is_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the argument is a list/a tuple or not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if argument is a sequence, False if not.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.is_valid">
<code class="descname">is_valid</code><span class="sig-paren">(</span><em>data: typing.Dict</em>, <em>data_type: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#module.prototype.Prototype.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not given data is valid by checking against the
JSON schema.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – Data to check.</li>
<li><strong>data_type</strong> – Name of the data type.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if data is valid, False if not.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="module.prototype.Prototype.name">
<code class="descname">name</code><a class="headerlink" href="#module.prototype.Prototype.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.prototype.Prototype.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes an observation object. Will be overridden by actual
worker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – Observation object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The processed observation object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.publish">
<code class="descname">publish</code><span class="sig-paren">(</span><em>target: str</em>, <em>header: typing.Dict</em>, <em>payload: typing.Dict</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.prototype.Prototype.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends header and payload to a list, converts the list to a JSON
string and sends it to the designated target by using the callback
function <cite>_uplink()</cite>. The JSON string has the format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">{</span> <span class="o">&lt;</span><span class="n">header</span><span class="o">&gt;</span> <span class="p">},</span> <span class="p">{</span> <span class="o">&lt;</span><span class="n">payload</span><span class="o">&gt;</span> <span class="p">}</span> <span class="p">]</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target</strong> – Name of the target.</li>
<li><strong>header</strong> – Header of the message.</li>
<li><strong>payload</strong> – Payload of the message.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.publish_observation">
<code class="descname">publish_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.prototype.Prototype.publish_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the observation for publishing and forwards it to the
messenger.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> – Observation object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.prototype.Prototype.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the worker.</p>
</dd></dl>

<dl class="method">
<dt id="module.prototype.Prototype.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.prototype.Prototype.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the worker.</p>
</dd></dl>

<dl class="attribute">
<dt id="module.prototype.Prototype.type">
<code class="descname">type</code><a class="headerlink" href="#module.prototype.Prototype.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.prototype.Prototype.uplink">
<code class="descname">uplink</code><a class="headerlink" href="#module.prototype.Prototype.uplink" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.schedule">
<span id="module-schedule-module"></span><h2>module.schedule module<a class="headerlink" href="#module-module.schedule" title="Permalink to this headline">¶</a></h2>
<p>Module for the scheduling of observations.</p>
<dl class="class">
<dt id="module.schedule.Job">
<em class="property">class </em><code class="descclassname">module.schedule.</code><code class="descname">Job</code><span class="sig-paren">(</span><em>name: str, project_id: str, node_id: str, port_name: str, obs: core.observation.Observation, is_enabled: bool, start_date: str, end_date: str, weekdays: typing.Dict[str, typing.List], uplink: typing.Callable[[str, typing.Dict[str, typing.Any], typing.Dict[str, typing.Any]], NoneType]</em><span class="sig-paren">)</span><a class="headerlink" href="#module.schedule.Job" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Job stores an observation object and sends it to a callback function if the
current date and time are within the set schedule.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – Name of the job.</li>
<li><strong>project_id</strong> – ID of the project.</li>
<li><strong>node_id</strong> – ID of the sensor node.</li>
<li><strong>port_name</strong> – Name of the (serial) port.</li>
<li><strong>obs</strong> – Observation object.</li>
<li><strong>is_enabled</strong> – If True, job is enabled.</li>
<li><strong>start_date</strong> – Date to start the job.</li>
<li><strong>stop_date</strong> – Date to stop the job.</li>
<li><strong>weekdays</strong> – Dict of days and times to run this job at.</li>
<li><strong>uplink</strong> – Callback function to send the observation to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.schedule.Job.has_expired">
<code class="descname">has_expired</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#module.schedule.Job.has_expired" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether or not the job has expired.</p>
</dd></dl>

<dl class="attribute">
<dt id="module.schedule.Job.is_enabled">
<code class="descname">is_enabled</code><a class="headerlink" href="#module.schedule.Job.is_enabled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.schedule.Job.is_pending">
<code class="descname">is_pending</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#module.schedule.Job.is_pending" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether or not the job is within the current time frame and
ready for processing.</p>
</dd></dl>

<dl class="attribute">
<dt id="module.schedule.Job.name">
<code class="descname">name</code><a class="headerlink" href="#module.schedule.Job.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.schedule.Job.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.schedule.Job.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates trough the observation set and sends observations to an
external callback function.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.schedule.Scheduler">
<em class="property">class </em><code class="descclassname">module.schedule.</code><code class="descname">Scheduler</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.schedule.Scheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>Scheduler is used to manage the monitoring process by sending observations
to a sensor. Each observation is represented by a single job. Jobs are
stored in a jobs list and will be executed at the given date and time. A
separate scheduler is necessary for each serial port.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>port</strong> (<em>str</em>) – Name of the port module.</li>
<li><strong>sensor</strong> (<em>str</em>) – Name of the sensor.</li>
<li><strong>schedules</strong> (<em>List</em><em>[</em><em>Dict</em><em>]</em>) – List of schedules.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.schedule.Scheduler.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>job: module.schedule.Job</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.schedule.Scheduler.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a job to the jobs list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>job</strong> – Job to add.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.schedule.Scheduler.load_jobs">
<code class="descname">load_jobs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.schedule.Scheduler.load_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads all observation sets from the configurations and creates jobs
to put into the jobs list.</p>
</dd></dl>

<dl class="method">
<dt id="module.schedule.Scheduler.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.schedule.Scheduler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Threaded method to process the jobs queue.</p>
</dd></dl>

<dl class="method">
<dt id="module.schedule.Scheduler.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.schedule.Scheduler.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.server">
<span id="module-server-module"></span><h2>module.server module<a class="headerlink" href="#module-module.server" title="Permalink to this headline">¶</a></h2>
<p>Module for network services.</p>
<dl class="class">
<dt id="module.server.LocalControlServer">
<em class="property">class </em><code class="descclassname">module.server.</code><code class="descname">LocalControlServer</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.server.LocalControlServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>LocalControlServer creates a web service for the remote control of
OpenADMS. The server shows HTML page with system information and log
messages. The user can start and stop modules defined in the OpenADMS Node
configuration. It is recommended to run a reverse proxy in front of the
LocalControlServer.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> (<em>str</em>) – FQDN or IP address of the server.</li>
<li><strong>port</strong> (<em>int</em>) – Port number.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.server.LocalControlServer.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.server.LocalControlServer.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs HTTPServer within a thread to avoid blocking.</p>
</dd></dl>

<dl class="method">
<dt id="module.server.LocalControlServer.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.server.LocalControlServer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the server.</p>
</dd></dl>

<dl class="method">
<dt id="module.server.LocalControlServer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.server.LocalControlServer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the server.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.server.RequestHandler">
<em class="property">class </em><code class="descclassname">module.server.</code><code class="descname">RequestHandler</code><span class="sig-paren">(</span><em>manager: core.manager.Manager</em>, <em>log_handler: core.logging.RingBufferLogHandler</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#module.server.RequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">http.server.BaseHTTPRequestHandler</span></code></p>
<p>Custom HTTP request handler.</p>
<dl class="method">
<dt id="module.server.RequestHandler.do_GET">
<code class="descname">do_GET</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.server.RequestHandler.do_GET" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the response to a GET request.</p>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.do_HEAD">
<code class="descname">do_HEAD</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.server.RequestHandler.do_HEAD" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates HTTP header.</p>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.do_action_query">
<code class="descname">do_action_query</code><span class="sig-paren">(</span><em>query: typing.Dict</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.server.RequestHandler.do_action_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes action query.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query</strong> – GET query to process.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.get_404">
<code class="descname">get_404</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.server.RequestHandler.get_404" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a “file not found” page (error 404).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String with HTML page.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.get_complete_path">
<code class="descname">get_complete_path</code><span class="sig-paren">(</span><em>path: str</em><span class="sig-paren">)</span> &#x2192; pathlib.Path<a class="headerlink" href="#module.server.RequestHandler.get_complete_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.get_file_contents">
<code class="descname">get_file_contents</code><span class="sig-paren">(</span><em>path: pathlib.Path</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.server.RequestHandler.get_file_contents" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a file and returns the contents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> – File path.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">String with file contents.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.get_index">
<code class="descname">get_index</code><span class="sig-paren">(</span><em>template: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.server.RequestHandler.get_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index page of this module in HTML format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>template</strong> – The template.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">String with the parsed index page.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.get_modules_table">
<code class="descname">get_modules_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.server.RequestHandler.get_modules_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns table rows with all modules of the current configuration in
HTML format. Rather quick and dirty with hard-coded template, but does
the job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String with modules as HTML table rows.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.get_sensors_table">
<code class="descname">get_sensors_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.server.RequestHandler.get_sensors_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns table rows with all sensors of the current configuration in
HTML format. Rather quick and dirty with hard-coded template, but does
the job.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String with sensors as HTML table rows.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.log_message">
<code class="descname">log_message</code><span class="sig-paren">(</span><em>format: str</em>, <em>*args</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.server.RequestHandler.log_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Prevents HTTP request handler from adding log messages to the root
logger.</p>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>template: str</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.server.RequestHandler.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitutes placeholders in the template with variables from the
given arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>template</strong> – The (HTML) template.</li>
<li><strong>kwargs</strong> – The key-value pairs.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">String with parsed template.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.server.RequestHandler.respond">
<code class="descname">respond</code><span class="sig-paren">(</span><em>opts: typing.Dict[str, str]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.server.RequestHandler.respond" title="Permalink to this definition">¶</a></dt>
<dd><p>Responds to an HTTP request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> – Status code, mime type, return data.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.testing">
<span id="module-testing-module"></span><h2>module.testing module<a class="headerlink" href="#module-module.testing" title="Permalink to this headline">¶</a></h2>
<p>Module for testing the monitoring system.</p>
<dl class="class">
<dt id="module.testing.ErrorGenerator">
<em class="property">class </em><code class="descclassname">module.testing.</code><code class="descname">ErrorGenerator</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.testing.ErrorGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>ErrorGenerates creates <cite>warning</cite>, <cite>error</cite>, or <cite>critical</cite> log messages in a
given interval for testing purposes.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>warning</strong> (<em>bool</em>) – Enable warning messages.</li>
<li><strong>error</strong> (<em>bool</em>) – Enable error messages.</li>
<li><strong>critical</strong> (<em>bool</em>) – Enable critical messages.</li>
<li><strong>interval</strong> (<em>float</em>) – Interval to create log messages (in seconds).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.testing.ErrorGenerator.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.testing.ErrorGenerator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates log messages in the set interval.</p>
</dd></dl>

<dl class="method">
<dt id="module.testing.ErrorGenerator.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.testing.ErrorGenerator.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the module.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.totalstation">
<span id="module-totalstation-module"></span><h2>module.totalstation module<a class="headerlink" href="#module-module.totalstation" title="Permalink to this headline">¶</a></h2>
<p>Module for the processing of observations of total station positioning
systems (pre-processing, atmospheric corrections, transformations).</p>
<dl class="class">
<dt id="module.totalstation.DistanceCorrector">
<em class="property">class </em><code class="descclassname">module.totalstation.</code><code class="descname">DistanceCorrector</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.totalstation.DistanceCorrector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>Corrects the slope distance of EDM measurements using atmospheric data.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>atmosphericCorrectionEnabled</strong> (<em>bool</em>) – Enables atmospheric correction.</li>
<li><strong>seaLevelCorrectionEnabled</strong> (<em>bool</em>) – Enables correction to sea level.</li>
<li><strong>distanceName</strong> (<em>str</em>) – Name of the response set.</li>
<li><strong>temperature</strong> (<em>float</em>) – Default temperature (in °C).</li>
<li><strong>pressure</strong> (<em>float</em>) – Default pressure (in hPa/mbar).</li>
<li><strong>humidity</strong> (<em>float</em>) – Default humidity (0.0 … 1.0).</li>
<li><strong>sensorHeight</strong> (<em>float</em>) – Height of sensor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.totalstation.DistanceCorrector.get_atmospheric_correction">
<code class="descname">get_atmospheric_correction</code><span class="sig-paren">(</span><em>temperature: float</em>, <em>pressure: float</em>, <em>humidity: float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#module.totalstation.DistanceCorrector.get_atmospheric_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the atmospheric correction value in parts per million
(ppm) for the reduction of distances gained by electronic distance
measurement (EDM).</p>
<p>The formulas are taken from the official manual of the Leica TM30
robotic total station. They should be valid for all modern total
stations of Leica Geosystems. For further information, please see
Leica TM30 manual on page 76.</p>
</dd></dl>

<dl class="method">
<dt id="module.totalstation.DistanceCorrector.get_sea_level_correction">
<code class="descname">get_sea_level_correction</code><span class="sig-paren">(</span><em>sensor_height: float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#module.totalstation.DistanceCorrector.get_sea_level_correction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.totalstation.DistanceCorrector.humidity">
<code class="descname">humidity</code><a class="headerlink" href="#module.totalstation.DistanceCorrector.humidity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.totalstation.DistanceCorrector.last_update">
<code class="descname">last_update</code><a class="headerlink" href="#module.totalstation.DistanceCorrector.last_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.totalstation.DistanceCorrector.pressure">
<code class="descname">pressure</code><a class="headerlink" href="#module.totalstation.DistanceCorrector.pressure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.totalstation.DistanceCorrector.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.totalstation.DistanceCorrector.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.totalstation.DistanceCorrector.sensor_height">
<code class="descname">sensor_height</code><a class="headerlink" href="#module.totalstation.DistanceCorrector.sensor_height" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.totalstation.DistanceCorrector.temperature">
<code class="descname">temperature</code><a class="headerlink" href="#module.totalstation.DistanceCorrector.temperature" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.totalstation.HelmertTransformer">
<em class="property">class </em><code class="descclassname">module.totalstation.</code><code class="descname">HelmertTransformer</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.totalstation.HelmertTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>HelmertTransformer calculates the 3-dimensional coordinates of a view point
using the Helmert transformation.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>residualMismatchTransformationEnabled</strong> (<em>bool</em>) – If True, prorate
residual mismatches.</li>
<li><strong>fixedPoints</strong> (<em>Dict</em><em>[</em><em>Dict</em><em>]</em>) – Coordinates of fixed points.</li>
<li><strong>viewPoint</strong> (<em>Dict</em>) – Target name and receivers of view point.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.totalstation.HelmertTransformer.calculate_point_coordinates">
<code class="descname">calculate_point_coordinates</code><span class="sig-paren">(</span><em>hz: float</em>, <em>v: float</em>, <em>dist: float</em>, <em>view_point_x: float</em>, <em>view_point_y: float</em>, <em>view_point_z: float</em>, <em>a: float</em>, <em>o: float</em><span class="sig-paren">)</span> &#x2192; typing.Tuple[[float, float], float]<a class="headerlink" href="#module.totalstation.HelmertTransformer.calculate_point_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates Cartesian coordinates out of polar coordinates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>hz</strong> – Horizontal direction.</li>
<li><strong>v</strong> – Vertical angle.</li>
<li><strong>dist</strong> – Horizontal distance.</li>
<li><strong>view_point_x</strong> – X coordinate of the view point.</li>
<li><strong>view_point_y</strong> – Y coordinate of the view point.</li>
<li><strong>view_point_z</strong> – Z coordinate of the view point.</li>
<li><strong>a</strong> – Transformation parameter a.</li>
<li><strong>o</strong> – Transformation parameter o.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">X, Y, and Z coordinates.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.totalstation.HelmertTransformer.get_cartesian_coordinates">
<code class="descname">get_cartesian_coordinates</code><span class="sig-paren">(</span><em>hz: float</em>, <em>v: float</em>, <em>slope_dist: float</em><span class="sig-paren">)</span> &#x2192; typing.Tuple[[float, float], float]<a class="headerlink" href="#module.totalstation.HelmertTransformer.get_cartesian_coordinates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.totalstation.HelmertTransformer.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.totalstation.HelmertTransformer.process_observation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the coordinates of the view point and further target
points by using the Helmert transformation. The given observation can
either be of a fixed point or of a target point.</p>
<p>Measured polar coordinates of the fixed points are used to determine the
Cartesian coordinates of the view point and the given target points.</p>
<p>An <cite>Observation</cite> object will be created for the view point and send
to the receivers defined in the configuration.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.totalstation.PolarTransformer">
<em class="property">class </em><code class="descclassname">module.totalstation.</code><code class="descname">PolarTransformer</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.totalstation.PolarTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>PolarTransformer calculates 3-dimensional coordinates of a target using the
sensor position and the azimuth position from the configuration together
with the horizontal direction, the vertical angle, and the distance of a
total station observation. The result (Y, X, Z) is added to the observation
data set.</p>
<p>It is possible to use multiple fixed points in order to improve the
accuracy of the horizontal directions (‘Abriss’ in German).</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>adjustmentEnabled</strong> (<em>bool</em>) – If True, improve horizontal directions.</li>
<li><strong>azimuthAngle</strong> (<em>float</em>) – Between local azimuth and global azimuth (in gon).</li>
<li><strong>azimuthPointName</strong> (<em>str</em>) – Name of azimuth.</li>
<li><strong>fixedPoints</strong> (<em>Dict</em><em>[</em><em>Dict</em><em>]</em>) – Coordinates of fixed points (X, Y, Z).</li>
<li><strong>viewPoint</strong> (<em>Dict</em>) – Coordinates of view point (X, Y, Z).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.totalstation.PolarTransformer.get_azimuth_angle">
<code class="descname">get_azimuth_angle</code><span class="sig-paren">(</span><em>view_point_azimuth: float</em>, <em>view_point_x: float</em>, <em>view_point_y: float</em>, <em>target_point_x: float</em>, <em>target_point_y: float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#module.totalstation.PolarTransformer.get_azimuth_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the azimuth angle to a target point by using the
direction and the distance measured from a given view point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>view_point_azimuth</strong> – Global azimuth.</li>
<li><strong>view_point_x</strong> – X coordinate of view point.</li>
<li><strong>view_point_y</strong> – Y coordinate of view point.</li>
<li><strong>target_point_x</strong> – X coordinate of target point.</li>
<li><strong>target_point_y</strong> – Y coordinate of target point.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The azimuth angle to target point.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.totalstation.PolarTransformer.gon_to_rad">
<code class="descname">gon_to_rad</code><span class="sig-paren">(</span><em>a: float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#module.totalstation.PolarTransformer.gon_to_rad" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts from gon (grad) to radiant.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a</strong> – Angle in gon.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Converted angle in rad.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.totalstation.PolarTransformer.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.totalstation.PolarTransformer.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.totalstation.PolarTransformer.rad_to_gon">
<code class="descname">rad_to_gon</code><span class="sig-paren">(</span><em>a: float</em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#module.totalstation.PolarTransformer.rad_to_gon" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts from radiant to gon (grad).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a</strong> – Angle in rad.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Converted angle in gon.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.totalstation.PolarTransformer.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>view_point_x: float</em>, <em>view_point_y: float</em>, <em>view_point_z: float</em>, <em>target_point_x: float</em>, <em>target_point_y: float</em>, <em>hz: float</em>, <em>v: float</em>, <em>dist: float</em><span class="sig-paren">)</span> &#x2192; typing.Tuple[[float, float], float]<a class="headerlink" href="#module.totalstation.PolarTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates coordinates (x, y, z) out of horizontal direction,
vertical angle, and slope distance to a target point using a
3-dimensional polar transformation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>view_point_x</strong> – X coordinate of view point.</li>
<li><strong>view_point_y</strong> – Y coordinate of view point.</li>
<li><strong>view_point_z</strong> – Z coordinate of view point.</li>
<li><strong>target_point_x</strong> – X coordinate of target point.</li>
<li><strong>target_point_y</strong> – Y coordinate of target point.</li>
<li><strong>hz</strong> – Horizontal direction between view point and target point.</li>
<li><strong>v</strong> – Vertical angle between view point and target point.</li>
<li><strong>dist</strong> – Horizontal direction between view point and target point.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">X, Y, and Z coordinates of transformed target.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.totalstation.RefractionCorrector">
<em class="property">class </em><code class="descclassname">module.totalstation.</code><code class="descname">RefractionCorrector</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.totalstation.RefractionCorrector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>RefractionCorrector removes the influence of the refraction from a measured
distance and corrects the Z value of an observed target.</p>
<p>The module has nothing to configure.</p>
<dl class="method">
<dt id="module.totalstation.RefractionCorrector.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.totalstation.RefractionCorrector.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.totalstation.SerialMeasurementProcessor">
<em class="property">class </em><code class="descclassname">module.totalstation.</code><code class="descname">SerialMeasurementProcessor</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.totalstation.SerialMeasurementProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>SerialMeasurementProcessor calculates serial measurements by using
observations of one target in two faces. The two faces, consisting of
horizontal directions, vertical angles, and slope distances, are
averaged and stored in a new response set.</p>
<p>The module has nothing to configure.</p>
<dl class="method">
<dt id="module.totalstation.SerialMeasurementProcessor.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.totalstation.SerialMeasurementProcessor.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.unix">
<span id="module-unix-module"></span><h2>module.unix module<a class="headerlink" href="#module-module.unix" title="Permalink to this headline">¶</a></h2>
<p>Module for BSD-specific features, which are not available on other operating
systems.</p>
<dl class="class">
<dt id="module.unix.GpioController">
<em class="property">class </em><code class="descclassname">module.unix.</code><code class="descname">GpioController</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.unix.GpioController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>GpioController sets single pins of the General Purpose Input Output
(GPIO) interface of a Raspberry Pi single-board computer running FreeBSD,
NetBSD, or OpenBSD. This module does not work on Linux.</p>
<p>The JSON-based configuration for this module:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>defaultState</strong> (<em>int</em>) – Default state of pin (either 0 or 1).</li>
<li><strong>duration</strong> (<em>float</em>) – Time span to change the state of the pin (in seconds).</li>
<li><strong>pin</strong> (<em>str</em>) – Name of the GPIO pin.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="module.unix.GpioController.handle_gpio">
<code class="descname">handle_gpio</code><span class="sig-paren">(</span><em>header: typing.Dict[str, typing.Any], payload: typing.Dict[str, typing.Any]</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.unix.GpioController.handle_gpio" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts message payload in the queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>header</strong> – The message header.</li>
<li><strong>payload</strong> – The message payload.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="module.unix.GpioController.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.unix.GpioController.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for new messages and sets GPIO pin to high or low.</p>
</dd></dl>

<dl class="method">
<dt id="module.unix.GpioController.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#module.unix.GpioController.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.unix.Unix">
<em class="property">class </em><code class="descclassname">module.unix.</code><code class="descname">Unix</code><a class="headerlink" href="#module.unix.Unix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">enum.Enum</span></code></p>
<p>Type of BSD Unix derivate, either None, FreeBSD, NetBSD, or OpenBSD.</p>
<dl class="attribute">
<dt id="module.unix.Unix.FREEBSD">
<code class="descname">FREEBSD</code><em class="property"> = 1</em><a class="headerlink" href="#module.unix.Unix.FREEBSD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.unix.Unix.NETBSD">
<code class="descname">NETBSD</code><em class="property"> = 2</em><a class="headerlink" href="#module.unix.Unix.NETBSD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.unix.Unix.NONE">
<code class="descname">NONE</code><em class="property"> = 0</em><a class="headerlink" href="#module.unix.Unix.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="module.unix.Unix.OPENBSD">
<code class="descname">OPENBSD</code><em class="property"> = 3</em><a class="headerlink" href="#module.unix.Unix.OPENBSD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module.virtual">
<span id="module-virtual-module"></span><h2>module.virtual module<a class="headerlink" href="#module-module.virtual" title="Permalink to this headline">¶</a></h2>
<p>Module for virtual sensors.</p>
<dl class="class">
<dt id="module.virtual.VirtualDTM">
<em class="property">class </em><code class="descclassname">module.virtual.</code><code class="descname">VirtualDTM</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.virtual.VirtualDTM" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.virtual.VirtualSensor" title="module.virtual.VirtualSensor"><code class="xref py py-class docutils literal"><span class="pre">module.virtual.VirtualSensor</span></code></a></p>
<p>VirtualDTM simulates an STS DTM meteorological sensor.</p>
<dl class="method">
<dt id="module.virtual.VirtualDTM.get_pressure">
<code class="descname">get_pressure</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualDTM.get_pressure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualDTM.get_temperature">
<code class="descname">get_temperature</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualDTM.get_temperature" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualDTM.power_on">
<code class="descname">power_on</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualDTM.power_on" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualDTM.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualDTM.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualDTM.set_command_set">
<code class="descname">set_command_set</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualDTM.set_command_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.virtual.VirtualIndicatorOne">
<em class="property">class </em><code class="descclassname">module.virtual.</code><code class="descname">VirtualIndicatorOne</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.virtual.VirtualIndicatorOne" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.virtual.VirtualSensor" title="module.virtual.VirtualSensor"><code class="xref py py-class docutils literal"><span class="pre">module.virtual.VirtualSensor</span></code></a></p>
<p>VirtualIndicatorOne simulates a Sylvac S_Dial One digital
indicator/extensometer.</p>
<dl class="method">
<dt id="module.virtual.VirtualIndicatorOne.get_distance">
<code class="descname">get_distance</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualIndicatorOne.get_distance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.virtual.VirtualSensor">
<em class="property">class </em><code class="descclassname">module.virtual.</code><code class="descname">VirtualSensor</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.virtual.VirtualSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.prototype.Prototype" title="module.prototype.Prototype"><code class="xref py py-class docutils literal"><span class="pre">module.prototype.Prototype</span></code></a></p>
<p>VirtualSensor is a prototype class for virtual sensors.</p>
<dl class="method">
<dt id="module.virtual.VirtualSensor.process_observation">
<code class="descname">process_observation</code><span class="sig-paren">(</span><em>obs: core.observation.Observation</em><span class="sig-paren">)</span> &#x2192; core.observation.Observation<a class="headerlink" href="#module.virtual.VirtualSensor.process_observation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualSensor.sanitize">
<code class="descname">sanitize</code><span class="sig-paren">(</span><em>s: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualSensor.sanitize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts some non-printable characters of a given string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> – The string to sanitize.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The sanitized string.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="module.virtual.VirtualTotalStationTM30">
<em class="property">class </em><code class="descclassname">module.virtual.</code><code class="descname">VirtualTotalStationTM30</code><span class="sig-paren">(</span><em>module_name: str</em>, <em>module_type: str</em>, <em>manager: core.manager.Manager</em><span class="sig-paren">)</span><a class="headerlink" href="#module.virtual.VirtualTotalStationTM30" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#module.virtual.VirtualSensor" title="module.virtual.VirtualSensor"><code class="xref py py-class docutils literal"><span class="pre">module.virtual.VirtualSensor</span></code></a></p>
<p>VirtualTotalStationTM30 simulates a Leica TM30 totalstation by processing
GeoCOM commands.</p>
<dl class="method">
<dt id="module.virtual.VirtualTotalStationTM30.do_complete_measurement">
<code class="descname">do_complete_measurement</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualTotalStationTM30.do_complete_measurement" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualTotalStationTM30.get_sensor_id">
<code class="descname">get_sensor_id</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualTotalStationTM30.get_sensor_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualTotalStationTM30.get_sensor_name">
<code class="descname">get_sensor_name</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualTotalStationTM30.get_sensor_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualTotalStationTM30.measure_distance">
<code class="descname">measure_distance</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualTotalStationTM30.measure_distance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="module.virtual.VirtualTotalStationTM30.set_direction">
<code class="descname">set_direction</code><span class="sig-paren">(</span><em>request: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#module.virtual.VirtualTotalStationTM30.set_direction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-module">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-module" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Hochschule Neubrandenburg – University of Applied Sciences.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>