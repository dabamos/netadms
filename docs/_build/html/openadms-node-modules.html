

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OpenADMS Node Modules &mdash; OpenADMS Node 0.7 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="OpenADMS Node 0.7 documentation" href="index.html"/>
        <link rel="prev" title="System Description" href="system.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> OpenADMS Node
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation of OpenADMS Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running OpenADMS Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="system.html">System Description</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">OpenADMS Node Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#database">Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#couchdriver">CouchDriver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#loading-the-module">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#export">Export</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fileexporter">FileExporter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#realtimepublisher">RealTimePublisher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#linux">Linux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interruptcounter">InterruptCounter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#notification">Notification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#alerter">Alerter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id8">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alert-message-format">Alert Message Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#alertmessageformatter">AlertMessageFormatter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#heartbeat">Heartbeat</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ircagent">IrcAgent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id15">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#irc-message-format">IRC Message Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mailagent">MailAgent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id18">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#e-mail-message-format">E-Mail Message Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mastodonagent">MastodonAgent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id20">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mastodon-message-format">Mastodon Message Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rssagent">RssAgent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id23">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rss-message-format">RSS Message Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id25">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#shortmessageagent">ShortMessageAgent</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id26">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sms-message-format">SMS Message Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#port">Port</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bluetoothport">BluetoothPort</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id28">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id29">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#serialport">SerialPort</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id30">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#processing">Processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preprocessor">PreProcessor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id32">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id33">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#responsevalueinspector">ResponseValueInspector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id35">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id37">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#returncodeinspector">ReturnCodeInspector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id38">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id39">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id40">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#unitconverter">UnitConverter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id41">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id42">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#prototype">Prototype</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id43">Prototype</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#schedule">Schedule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scheduler">Scheduler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id46">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id47">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#server">Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#localcontrolserver">LocalControlServer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id48">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id49">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#errorgenerator">ErrorGenerator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id50">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id51">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#totalstation">Totalstation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#distancecorrector">DistanceCorrector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id52">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id53">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#helmerttransformer">HelmertTransformer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id54">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id55">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#polartransformer">PolarTransformer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id56">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id57">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#refractioncorrector">RefractionCorrector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id58">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id59">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#serialmeasurementprocessor">SerialMeasurementProcessor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id60">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id61">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id62">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#unix">Unix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gpiocontroller">GpioController</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id63">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gpio-message-format">GPIO Message Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id64">Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#virtual">Virtual</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#virtualdtm">VirtualDTM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id65">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id66">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#virtualindicatorone">VirtualIndicatorOne</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id67">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id68">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#virtualtotalstationtm30">VirtualTotalStationTM30</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id69">Loading the Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id70">Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenADMS Node</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>OpenADMS Node Modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/openadms-node-modules.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="openadms-node-modules">
<h1>OpenADMS Node Modules<a class="headerlink" href="#openadms-node-modules" title="Permalink to this headline">¶</a></h1>
<p>The logic of the OpenADMS Node software is located in several modules, which are
stored in the directory <code class="docutils literal"><span class="pre">module/</span></code>. New features can be added to the
monitoring system by writing additional modules.  Each module must be loaded
before it can be used.</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="57%" />
<col width="5%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Database</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#couch-driver"><span class="std std-ref">CouchDriver</span></a></td>
<td>Database connectivity for Apache CouchDB.</td>
<td>0.6</td>
</tr>
<tr class="row-odd"><td><strong>Export</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#file-exporter"><span class="std std-ref">FileExporter</span></a></td>
<td>Exports observations to flat files in CSV format.</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#real-time-publisher"><span class="std std-ref">RealTimePublisher</span></a></td>
<td>Distributes observations in real time over a network.</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><strong>Linux</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#interrupt-counter"><span class="std std-ref">InterruptCounter</span></a></td>
<td>Counts interrupts on a GPIO pin of the Raspberry Pi.</td>
<td>0.5</td>
</tr>
<tr class="row-even"><td><strong>Notification</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#alerter"><span class="std std-ref">Alerter</span></a></td>
<td>Collects alert messages.</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#alert-message-formatter"><span class="std std-ref">AlertMessageFormatter</span></a></td>
<td>Formats alert messages (e-mail, SMS, IRC, etc.).</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#heartbeat"><span class="std std-ref">Heartbeat</span></a></td>
<td>Broadcasts heartbeat messages.</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#irc-agent"><span class="std std-ref">IrcAgent</span></a></td>
<td>Sends messages to an Internet Relay Chat network.</td>
<td>0.6</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#mail-agent"><span class="std std-ref">MailAgent</span></a></td>
<td>Sends e-mails via SMTP.</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#mastodon-agent"><span class="std std-ref">MastodonAgent</span></a></td>
<td>Sends “toots” to the Mastodon social network.</td>
<td>0.6</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#rss-agent"><span class="std std-ref">RssAgent</span></a></td>
<td>Exports alert messages as RSS feed.</td>
<td>0.6</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#short-message-agent"><span class="std std-ref">ShortMessageAgent</span></a></td>
<td>Sends short messages to an TCP/IP-based SMS server.</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><strong>Port</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#bluetooth-port"><span class="std std-ref">BluetoothPort</span></a></td>
<td>Experimental communication with Bluetooth.</td>
<td>0.5</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#serial-port"><span class="std std-ref">SerialPort</span></a></td>
<td>Serial port communication (RS-232/RS-422/RS-485).</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><strong>Processing</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#pre-processor"><span class="std std-ref">PreProcessor</span></a></td>
<td>Extracts values from raw observation responses.</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#response-value-inspector"><span class="std std-ref">ResponseValueInspector</span></a></td>
<td>Validates observation responses.</td>
<td>0.6</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#return-code-inspector"><span class="std std-ref">ReturnCodeInspector</span></a></td>
<td>Checks the return codes of Leica Geosystems sensors.</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#unit-converter"><span class="std std-ref">UnitConverter</span></a></td>
<td>Converts units of observation response values.</td>
<td>0.5</td>
</tr>
<tr class="row-odd"><td><strong>Prototype</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#id43"><span class="std std-ref">Prototype</span></a></td>
<td>Blueprint for new OpenADMS module.</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><strong>Schedule</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#scheduler"><span class="std std-ref">Scheduler</span></a></td>
<td>General scheduling of observations.</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><strong>Server</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#local-control-server"><span class="std std-ref">LocalControlServer</span></a></td>
<td>Webserver for simple remote control.</td>
<td>0.5</td>
</tr>
<tr class="row-odd"><td><strong>Testing</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#error-generator"><span class="std std-ref">ErrorGenerator</span></a></td>
<td>Creates warning, error, and critical log messages.</td>
<td>0.6</td>
</tr>
<tr class="row-odd"><td><strong>Totalstation</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#distance-corrector"><span class="std std-ref">DistanceCorrector</span></a></td>
<td>Removes atmospheric influences from distances.</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#helmert-transformer"><span class="std std-ref">HelmertTransformer</span></a></td>
<td>Free stationing of total stations.</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#polar-transformer"><span class="std std-ref">PolarTransformer</span></a></td>
<td>Converts polar coordinates to Cartesian coordinates.</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#refraction-corrector"><span class="std std-ref">RefractionCorrector</span></a></td>
<td>Corrects the atmospheric refraction.</td>
<td>0.4</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#serial-measurement-processor"><span class="std std-ref">SerialMeasurementProcessor</span></a></td>
<td>Processing of observations in two faces.</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><strong>Unix</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#gpio-controller"><span class="std std-ref">GpioController</span></a></td>
<td>Interacts with the GPIO interface of the Raspberry Pi.</td>
<td>0.6</td>
</tr>
<tr class="row-odd"><td><strong>Virtual</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#virtual-dtm"><span class="std std-ref">VirtualDTM</span></a></td>
<td>Virtual STS DTM temperature/pressure sensor.</td>
<td>0.3</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#virtual-indicator-one"><span class="std std-ref">VirtualIndicatorOne</span></a></td>
<td>Virtual Sylvac S_Dial One digital indicator.</td>
<td>0.3</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#virtual-total-station-tm30"><span class="std std-ref">VirtualTotalStationTM30</span></a></td>
<td>Virtual Leica TM30 total station.</td>
<td>0.3</td>
</tr>
</tbody>
</table>
<p>Modules can be loaded by adding them to the <code class="docutils literal"><span class="pre">modules</span></code> section of the OpenADMS
Node core configuration. In the example below, the modules <a class="reference internal" href="#scheduler"><span class="std std-ref">Scheduler</span></a> and
<a class="reference internal" href="#file-exporter"><span class="std std-ref">FileExporter</span></a> will be loaded:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;core&quot;</span><span class="p">:</span>
    <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;fileExporter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.export.FileExporter&quot;</span><span class="p">,</span>
      <span class="s2">&quot;schedulerCom1&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.schedule.Scheduler&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The key <code class="docutils literal"><span class="pre">fileExporter</span></code> sets the name of the instance, the value
<code class="docutils literal"><span class="pre">modules.export.FileExporter</span></code> the path to the module (class <code class="docutils literal"><span class="pre">FileExporter</span></code>
in <code class="docutils literal"><span class="pre">modules/export.py</span></code>). The name of an instance can be chosen freely. For
instance, instead of <code class="docutils literal"><span class="pre">fileExporter</span></code> the name <code class="docutils literal"><span class="pre">myFileExporter</span></code> is also valid,
but the key of the FileExporter module configuration has to be renamed as well.
Multiple instances of a module are possible, if they have different names (e.g.,
<code class="docutils literal"><span class="pre">scheduler1</span></code>, <code class="docutils literal"><span class="pre">scheduler2</span></code>, and so on). Each instance has its own
configuration.</p>
<div class="section" id="database">
<h2>Database<a class="headerlink" href="#database" title="Permalink to this headline">¶</a></h2>
<p>Drivers for various database management systems are provided in this package.</p>
<div class="section" id="couchdriver">
<span id="couch-driver"></span><h3>CouchDriver<a class="headerlink" href="#couchdriver" title="Permalink to this headline">¶</a></h3>
<p>CouchDriver is a connectivity module for <a class="reference external" href="http://couchdb.apache.org/">Apache CouchDB</a>. It is used to store
observation data sets in a CouchDB database (see <a class="reference internal" href="#couchdb"><span class="std std-numref">Fig. 4</span></a>).
Observations send to a CouchDriver instance will be saved in the CouchDB
database defined in the module’s configuration.</p>
<div class="figure" id="id71">
<span id="couchdb"></span><img alt="An observation data set stored in an Apache CouchDB database" src="_images/couchdb.png" />
<p class="caption"><span class="caption-number">Fig. 4 </span><span class="caption-text">An observation data set stored in an Apache CouchDB database</span></p>
</div>
<div class="section" id="loading-the-module">
<h4>Loading the Module<a class="headerlink" href="#loading-the-module" title="Permalink to this headline">¶</a></h4>
<p>Add the following line to the <code class="docutils literal"><span class="pre">modules</span></code> section of the configuration file to
load the CouchDriver:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;couchDriver&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.database.CouchDriver&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;couchDriver&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="s2">&quot;192.168.0.100&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">5984</span><span class="p">,</span>
    <span class="s2">&quot;tls&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;joe&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">,</span>
    <span class="s2">&quot;db&quot;</span><span class="p">:</span> <span class="s2">&quot;openadms&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="15%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">server</span></code></td>
<td>String</td>
<td>IP address or FQDN of the CouchDB server.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>String</td>
<td>Port number (default is <code class="docutils literal"><span class="pre">5984</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tls</span></code></td>
<td>Boolean</td>
<td>If true, uses encrypted HTTPS instead of HTTP (depends
on server).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">user</span></code></td>
<td>String</td>
<td>Name of the CouchDB user.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">password</span></code></td>
<td>String</td>
<td>Password of the CouchDB user.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">db</span></code></td>
<td>String</td>
<td>Name of the CouchDB database.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="export">
<h2>Export<a class="headerlink" href="#export" title="Permalink to this headline">¶</a></h2>
<p>Modules in the <em>Export</em> package store observation data locally or forward it to
external receivers.</p>
<div class="section" id="fileexporter">
<span id="file-exporter"></span><h3>FileExporter<a class="headerlink" href="#fileexporter" title="Permalink to this headline">¶</a></h3>
<p>The FileExporter module is used to export observations to comma-separated flat
files. Every file starts with a header, introduced by the character <code class="docutils literal"><span class="pre">#</span></code>.
Observations are stored line by line in the file, with new ones appended at the
end.</p>
<p>Each line starts with date and time of the observation, followed by the ID,
target name and all response sets in alphabetical order. The format of date and
time can be modified in the configuration. A response set consists of response
name, response value, and response unit.</p>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>A single observation in a CSV file, with a header line at the beginning:</p>
<div class="code text highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Target &quot;EXT&quot; of &quot;Extensometer&quot; on &quot;USB0&quot;</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">09</span><span class="n">T15</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">38</span><span class="p">,</span><span class="mi">6</span><span class="n">dc84c06018043ba84ac90636ed0f677</span><span class="p">,</span><span class="n">EXT</span><span class="p">,</span><span class="n">Distance</span><span class="p">,</span><span class="mf">19.212</span><span class="p">,</span><span class="n">mm</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="42%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No.</th>
<th class="head">Value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td><code class="docutils literal"><span class="pre">2016-10-09T15:29:38</span></code></td>
<td>Date and time (ISO 8601).</td>
</tr>
<tr class="row-odd"><td>2</td>
<td><code class="docutils literal"><span class="pre">6dc84c06018043ba84ac90636ed0f677</span></code></td>
<td>ID of the observation.</td>
</tr>
<tr class="row-even"><td>2</td>
<td><code class="docutils literal"><span class="pre">EXT</span></code></td>
<td>Target name of the observation.</td>
</tr>
<tr class="row-odd"><td>3</td>
<td><code class="docutils literal"><span class="pre">Distance</span></code></td>
<td>Name of the response set.</td>
</tr>
<tr class="row-even"><td>4</td>
<td><code class="docutils literal"><span class="pre">19.212</span></code></td>
<td>Value of the response set.</td>
</tr>
<tr class="row-odd"><td>5</td>
<td><code class="docutils literal"><span class="pre">mm</span></code></td>
<td>Unit of the response set.</td>
</tr>
</tbody>
</table>
<p>Additional response sets will be appended at the end of the line.</p>
</div>
<div class="section" id="id1">
<h4>Loading the Module<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Add the FileExporter to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;fileExporter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.export.FileExporter&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4>Configuration<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;fileExporter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;fileExtension&quot;</span><span class="p">:</span> <span class="s2">&quot;.csv&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fileName&quot;</span><span class="p">:</span> <span class="s2">&quot;{{port}}_{{target}}_{{date}}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fileRotation&quot;</span><span class="p">:</span> <span class="s2">&quot;monthly&quot;</span><span class="p">,</span>
    <span class="s2">&quot;paths&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;./data&quot;</span><span class="p">,</span>
      <span class="s2">&quot;/media/usbstick/backup&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;separator&quot;</span><span class="p">:</span> <span class="s2">&quot;,&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dateTimeFormat&quot;</span><span class="p">:</span> <span class="s2">&quot;YYYY-MM-DDTHH:mm:ss.SSSSS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;saveObservationId&quot;</span><span class="p">:</span> <span class="n">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="15%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fileExtension</span></code></td>
<td>String</td>
<td>Extension of the CSV file.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fileName</span></code></td>
<td>String</td>
<td>File name with possible placeholders
<code class="docutils literal"><span class="pre">{{date}}</span></code>, <code class="docutils literal"><span class="pre">{{target}}</span></code>, <code class="docutils literal"><span class="pre">{{name}}</span></code>,
<code class="docutils literal"><span class="pre">{{port}}</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fileRotation</span></code></td>
<td>String</td>
<td>File rotation (<code class="docutils literal"><span class="pre">none</span></code>, <code class="docutils literal"><span class="pre">daily</span></code>,
<code class="docutils literal"><span class="pre">monthly</span></code>, or <code class="docutils literal"><span class="pre">yearly</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">paths</span></code></td>
<td>Array</td>
<td>Paths to save files to (multiple paths
possible).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">separator</span></code></td>
<td>String</td>
<td>Separator between values within the CSV file.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">dateTimeFormat</span></code></td>
<td>String</td>
<td>Format of date and time (see <a class="reference external" href="http://arrow.readthedocs.io/en/latest/#tokens">Arrow tokens</a>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">saveObservationId</span></code></td>
<td>Boolean</td>
<td>If <code class="docutils literal"><span class="pre">true</span></code>, save the ID of each observation.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="realtimepublisher">
<span id="real-time-publisher"></span><h3>RealTimePublisher<a class="headerlink" href="#realtimepublisher" title="Permalink to this headline">¶</a></h3>
<p>The RealTimePublisher module pushes an observation to a list of receivers. The
receivers can be any third party application.</p>
<p>For each receiver defined in the configuration an MQTT topic will be created.
The observations are then published under their target names. For example, an
observation with the target name “target1” and a receiver “onlineViewer” will be
published under the MQTT topic <code class="docutils literal"><span class="pre">onlineViewer/target1</span></code>.</p>
<div class="section" id="id3">
<h4>Loading the Module<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>Add the RealTimePublisher to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;realTimePublisher&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.export.RealTimePublisher&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h4>Configuration<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;realTimePublisher&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;onlineViewer&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<p>Modules in this package are only compatible with Linux operating systems. This
can be due to dependencies or system calls that are available on Linux only.
Further restrictions may apply.</p>
<div class="section" id="interruptcounter">
<span id="interrupt-counter"></span><h3>InterruptCounter<a class="headerlink" href="#interruptcounter" title="Permalink to this headline">¶</a></h3>
<p>The InterruptCounter counts interrupts on one of the GPIO pins of the Raspberry
Pi single-board computer. This module should be compatible with all Raspberry Pi
models and ARMv6/ARMv7-based Linux operating systems. It is necessary to install
the Python package <a class="reference external" href="https://pypi.python.org/pypi/RPi.GPIO">RPi.GPIO</a> before using InterruptCounter. Please run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ python3 -m pip install RPi.GPIO
</pre></div>
</div>
<div class="section" id="id5">
<h4>Loading the Module<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>Add the InterruptCounter to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;interruptCounter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.linux.InterruptCounter&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h4>Configuration<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;interruptCounter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;gpio&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;bounceTime&quot;</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span>
    <span class="s2">&quot;countTime&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;fileExporter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sensorName&quot;</span><span class="p">:</span> <span class="s2">&quot;Tipping Spoon&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">gpio</span></code></td>
<td>Integer</td>
<td>GPIO pin to observe.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">bounceTime</span></code></td>
<td>Integer</td>
<td>Time to wait after each interrupt to prevent
bouncing (in milliseconds).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">countTime</span></code></td>
<td>Float</td>
<td>Collection time (in seconds).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">receiver</span></code></td>
<td>String</td>
<td>Name of the receiving module.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sensorName</span></code></td>
<td>String</td>
<td>Name of the connected sensor.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="notification">
<h2>Notification<a class="headerlink" href="#notification" title="Permalink to this headline">¶</a></h2>
<div class="section" id="alerter">
<span id="id7"></span><h3>Alerter<a class="headerlink" href="#alerter" title="Permalink to this headline">¶</a></h3>
<p>The Alerter module captures warning and error messages. The messages are drained
off from the OpenADMS logger and then send to an arbitrary number of
AlertMessageFormatter module. These will format the messages and forward them to
MailAgent, ShortMessageAgent, RssAgent, IrcAgent, or MastodonAgent modules.</p>
<p>The sequences could be:</p>
<ul class="simple">
<li>Alerter → AlertMessageFormatter → MailAgent</li>
<li>Alerter → AlertMessageFormatter → ShortMessageAgent</li>
<li>Alerter → AlertMessageFormatter → RssAgent</li>
<li>Alerter → AlertMessageFormatter → IrcAgent</li>
<li>Alerter → AlertMessageFormatter → MastodonAgent</li>
</ul>
<div class="section" id="id8">
<h4>Loading the Module<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>Add the Alerter to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;alerter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.Alerter&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="alert-message-format">
<h4>Alert Message Format<a class="headerlink" href="#alert-message-format" title="Permalink to this headline">¶</a></h4>
<p>The Alerter module forwards the message in a particular JSON-based format with
the type <code class="docutils literal"><span class="pre">alert</span></code>. Example:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;alert&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;dt&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-09-12 21:40:57&quot;</span><span class="p">,</span>
    <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;serialPort&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Observation &#39;getP09&#39; of &#39;P09&#39;: No target detected&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;engineer@example.com&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="15%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dt</span></code></td>
<td>Integer</td>
<td>Time stamp of the alert message.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">level</span></code></td>
<td>String</td>
<td>Alert level (<code class="docutils literal"><span class="pre">warning</span></code>, <code class="docutils literal"><span class="pre">error</span></code>, or <code class="docutils literal"><span class="pre">critical</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>Name of the module which sent the message.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">message</span></code></td>
<td>String</td>
<td>Message text.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">receiver</span></code></td>
<td>String</td>
<td>Receiver of the message (e.g., e-mail address, phone
number, IRC channel).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id9">
<h4>Configuration<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;alerter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;shortMessageFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;+49152 12345678&quot;</span>
          <span class="p">],</span>
          <span class="s2">&quot;critical&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;+49178 110010101&quot;</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;mailFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;warning&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;warnings@example.com&quot;</span>
          <span class="p">],</span>
          <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;engineer@example.com&quot;</span><span class="p">,</span>
            <span class="s2">&quot;customer@example.com&quot;</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">module</span></code></td>
<td>Dict</td>
<td>Modules to process alert messages.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">enabled</span></code></td>
<td>Boolean</td>
<td>Turns forwarding to module on/off.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">receivers</span></code></td>
<td>Dict</td>
<td>Alert levels and their respective receivers (depend on
module).</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="alertmessageformatter">
<span id="alert-message-formatter"></span><h3>AlertMessageFormatter<a class="headerlink" href="#alertmessageformatter" title="Permalink to this headline">¶</a></h3>
<p>The AlertMessageFormatter is used to format alert messages before sending them
to the <a class="reference internal" href="#mail-agent"><span class="std std-ref">MailAgent</span></a>, the <a class="reference internal" href="#short-message-agent"><span class="std std-ref">ShortMessageAgent</span></a>, the <a class="reference internal" href="#rss-agent"><span class="std std-ref">RssAgent</span></a>,
or the <a class="reference internal" href="#irc-agent"><span class="std std-ref">IrcAgent</span></a>. The style of an e-mail or SMS can be defined by writing
simple templates. Furthermore, the module is capable of caching incoming
messages a certain time, forwarding them as a whole.</p>
<p>Cached alerts will be concatenated in the body of the message, with the same
header and footer. An example e-mail message is:</p>
<div class="code text highlight-default"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">following</span> <span class="n">incident</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">occurred</span><span class="p">:</span>

<span class="mi">2017</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">20</span><span class="n">T02</span><span class="p">:</span><span class="mi">53</span><span class="p">:</span><span class="mi">51</span> <span class="o">-</span> <span class="n">warning</span> <span class="o">-</span> <span class="n">Observation</span> <span class="s2">&quot;getP03&quot;</span> <span class="n">of</span> <span class="n">target</span> <span class="s2">&quot;P03&quot;</span><span class="p">:</span> <span class="n">Only</span> <span class="n">angle</span> <span class="n">measurement</span> <span class="n">valid</span><span class="p">,</span> <span class="n">but</span> <span class="n">without</span> <span class="n">full</span> <span class="n">correction</span> <span class="p">(</span><span class="n">code</span> <span class="mi">1288</span> <span class="ow">in</span> <span class="n">response</span> <span class="s2">&quot;rcGetValues1&quot;</span><span class="p">)</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">20</span><span class="n">T02</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">55</span> <span class="o">-</span> <span class="n">error</span> <span class="o">-</span> <span class="n">Observation</span> <span class="s2">&quot;getP11&quot;</span> <span class="n">of</span> <span class="n">target</span> <span class="s2">&quot;P11&quot;</span><span class="p">:</span> <span class="n">No</span> <span class="n">target</span> <span class="n">detected</span> <span class="p">(</span><span class="n">code</span> <span class="mi">8710</span> <span class="ow">in</span> <span class="n">response</span> <span class="s2">&quot;rcChangeFace&quot;</span><span class="p">)</span>

<span class="n">Please</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">reply</span> <span class="k">as</span> <span class="n">this</span> <span class="n">e</span><span class="o">-</span><span class="n">mail</span> <span class="n">was</span> <span class="n">sent</span> <span class="kn">from</span> <span class="nn">an</span> <span class="n">automated</span> <span class="n">alerting</span> <span class="n">system</span><span class="o">.</span>
</pre></div>
</div>
<div class="section" id="id10">
<h4>Loading the Module<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p>Add the AlertMessageFormatter to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;alertMessageFormatter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.AlertMessageFormatter&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h4>Configuration<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p>Given are two AlertMessageFormatter, <code class="docutils literal"><span class="pre">mailFormatter</span></code> and
<code class="docutils literal"><span class="pre">shortMessageFormatter</span></code>:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;mailFormatter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notify.AlertMessageFormatter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;shortMessageFormatter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notify.AlertMessageFormatter&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>They are used to format e-mails and short messages.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;mailFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;messageCollectionEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;messageCollectionTime&quot;</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;mailAgent&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;email&quot;</span><span class="p">,</span>
    <span class="s2">&quot;templates&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="s2">&quot;The following incident(s) occurred:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="s2">&quot;{{dt}} - {{level}} - {{message}}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;footer&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Please do not reply as this e-mail was sent from an automated alerting system.&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;[OpenADMS] Alert Message - Project X&quot;</span><span class="p">,</span>
      <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;OpenADMS&quot;</span><span class="p">,</span>
      <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;{{receiver}}&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;shortMessageFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;messageCollectionEnabled&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;messageCollectionTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;shortMessageAgent&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sms&quot;</span><span class="p">,</span>
    <span class="s2">&quot;templates&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;?xml version=</span><span class="se">\&quot;</span><span class="s2">1.0</span><span class="se">\&quot;</span><span class="s2">?&gt;&lt;cmgs destaddr=</span><span class="se">\&quot;</span><span class="s2">{{receiver}}</span><span class="se">\&quot;</span><span class="s2">&gt;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="s2">&quot;{{dt}} - {{level}} - {{message}}&quot;</span><span class="p">,</span>
      <span class="s2">&quot;footer&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;/cmgs&gt;&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;{{receiver}}&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="15%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">messageCollectionEnabled</span></code></td>
<td>Boolean</td>
<td>Collect messages in a cache before sending.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">messageCollectionTime</span></code></td>
<td>Float</td>
<td>Time in seconds to cache messages.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">receiver</span></code></td>
<td>String</td>
<td>Name of the receiving module.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">type</span></code></td>
<td>String</td>
<td>Type of the message (e.g., <code class="docutils literal"><span class="pre">email</span></code> or
<code class="docutils literal"><span class="pre">sms</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">templates</span></code></td>
<td>Dict</td>
<td>Message templates with <code class="docutils literal"><span class="pre">header</span></code>, <code class="docutils literal"><span class="pre">body</span></code>,
and <code class="docutils literal"><span class="pre">footer</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">properties</span></code></td>
<td>Dict</td>
<td>Additional properties expected by the
receiver.</td>
</tr>
</tbody>
</table>
<p>The templates <code class="docutils literal"><span class="pre">header</span></code>, <code class="docutils literal"><span class="pre">body</span></code>, and <code class="docutils literal"><span class="pre">footer</span></code> are parsed for placeholders:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{dt}}</span></code></td>
<td>Date and time of the log entry.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{level}}</span></code></td>
<td>Log level (<code class="docutils literal"><span class="pre">warning</span></code>, <code class="docutils literal"><span class="pre">error</span></code>, or <code class="docutils literal"><span class="pre">critical</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{message}}</span></code></td>
<td>Log message text.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{nid}}</span></code></td>
<td>ID of the sensor node.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{node}}</span></code></td>
<td>Name of the sensor node.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{pid}}</span></code></td>
<td>ID of the project.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{project}}</span></code></td>
<td>Name of the project.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="heartbeat">
<span id="id12"></span><h3>Heartbeat<a class="headerlink" href="#heartbeat" title="Permalink to this headline">¶</a></h3>
<p>The Heartbeat sends signals periodically in a defined interval to a list of
receivers. The module is used to inform the receivers that the OpenADMS instance
is still alive (see <a class="reference external" href="https://en.wikipedia.org/wiki/Heartbeat_(computing)">Wikipedia</a>).</p>
<div class="section" id="id13">
<h4>Loading the Module<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<p>Add the Heartbeat to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;heartbeat&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.Heartbeat&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h4>Configuration<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;heartbeat&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;heartbeat&quot;</span><span class="p">],</span>
    <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="mi">10</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">receivers</span></code></td>
<td>List</td>
<td>List of receivers (topics).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">interval</span></code></td>
<td>Integer</td>
<td>Message sending interval in seconds.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="ircagent">
<span id="irc-agent"></span><h3>IrcAgent<a class="headerlink" href="#ircagent" title="Permalink to this headline">¶</a></h3>
<p>The IrcAgent connects to an Internet Relay Chat (IRC) server and sends messages
to a given channel or user. The module accepts messages of type <code class="docutils literal"><span class="pre">irc</span></code>.</p>
<div class="section" id="id15">
<h4>Loading the Module<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<p>Add the IrcAgent to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;ircAgent&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.IrcAgent&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="irc-message-format">
<h4>IRC Message Format<a class="headerlink" href="#irc-message-format" title="Permalink to this headline">¶</a></h4>
<p>The messages send to the module have to be structured in JSON format:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;irc&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-09-08T11:55:58 - error - preProcessor - No response in observation &#39;getDistance&#39; of target &#39;disto&#39;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;#mychannel&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">message</span></code></td>
<td>String</td>
<td>Message text.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">target</span></code></td>
<td>String</td>
<td>IRC channel or user to send the message to.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id16">
<h4>Configuration<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;ircAgent&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="s2">&quot;irc.freenode.net&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">6697</span><span class="p">,</span>
    <span class="s2">&quot;tls&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;nickname&quot;</span><span class="p">:</span> <span class="s2">&quot;openadms___&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;#flood&quot;</span><span class="p">,</span>
    <span class="s2">&quot;channel&quot;</span><span class="p">:</span> <span class="s2">&quot;#flood&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">server</span></code></td>
<td>String</td>
<td>IRC server (IP address or FQDN).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>String</td>
<td>Port number (e.g., <code class="docutils literal"><span class="pre">6667</span></code> for plain or <code class="docutils literal"><span class="pre">6697</span></code>
for TLS).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tls</span></code></td>
<td>Boolean</td>
<td>If <code class="docutils literal"><span class="pre">true</span></code>, use TLS-encrypted connection.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">nickname</span></code></td>
<td>String</td>
<td>Nickname to register with.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">password</span></code></td>
<td>String</td>
<td>Password of the nickname (optional).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">target</span></code></td>
<td>String</td>
<td>Default target to send messages to (channel or
user).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">channel</span></code></td>
<td>String</td>
<td>Channel to join at start-up (optional).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id17">
<h4>Example<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<p>An <a class="reference internal" href="#alerter"><span class="std std-ref">Alerter</span></a> instance and an <a class="reference internal" href="#alert-message-formatter"><span class="std std-ref">AlertMessageFormatter</span></a>
instance can be used to send log messages to an IRC server:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;alerter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.Alerter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ircFormatter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.AlertMessageFormatter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ircAgent&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.IrcAgent&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;alerter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;ircFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;warning&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;#mychannel&quot;</span> <span class="p">],</span>
          <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;#mychannel&quot;</span> <span class="p">],</span>
          <span class="s2">&quot;critical&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;#mychannel&quot;</span> <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;ircFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;messageCollectionEnabled&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;messageCollectionTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;irc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;ircAgent&quot;</span><span class="p">,</span>
    <span class="s2">&quot;templates&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="s2">&quot;{{dt}} - {{level}} - {{name}} - {{message}}&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;{{receiver}}&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;ircAgent&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;server&quot;</span><span class="p">:</span> <span class="s2">&quot;irc.freenode.net&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">6697</span><span class="p">,</span>
    <span class="s2">&quot;tls&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;nickname&quot;</span><span class="p">:</span> <span class="s2">&quot;openadms___&quot;</span><span class="p">,</span>
    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;#mychannel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;channel&quot;</span><span class="p">:</span> <span class="s2">&quot;#mychannel&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The setup can be tested with the <a class="reference internal" href="#error-generator"><span class="std std-ref">ErrorGenerator</span></a> module.</p>
</div>
</div>
<div class="section" id="mailagent">
<span id="mail-agent"></span><h3>MailAgent<a class="headerlink" href="#mailagent" title="Permalink to this headline">¶</a></h3>
<p>The MailAgent is used to send arbitrary messages as e-mails via an SMTP server.
The module expects the messages to be in a particular format, which is described
below.</p>
<div class="section" id="id18">
<h4>Loading the Module<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<p>Add the MailAgent to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;mailAgent&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.MailAgent&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="e-mail-message-format">
<h4>E-Mail Message Format<a class="headerlink" href="#e-mail-message-format" title="Permalink to this headline">¶</a></h4>
<p>The messages have to be structured in JSON format:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;email&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="s2">&quot;E-mail subject&quot;</span><span class="p">,</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;OpenADMS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;recipient@example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello, world!&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">subject</span></code></td>
<td>String</td>
<td>Subject of the e-mail.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">from</span></code></td>
<td>String</td>
<td>Sender of the e-mail.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">to</span></code></td>
<td>String</td>
<td>Receiver of the e-mail.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">message</span></code></td>
<td>String</td>
<td>E-mail text.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id19">
<h4>Configuration<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;mailAgent&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;defaultSubject&quot;</span><span class="p">:</span> <span class="s2">&quot;[OpenADMS] Message&quot;</span><span class="p">,</span>
    <span class="s2">&quot;charset&quot;</span><span class="p">:</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">,</span>
    <span class="s2">&quot;userMail&quot;</span><span class="p">:</span> <span class="s2">&quot;monitoring@example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;userName&quot;</span><span class="p">:</span> <span class="s2">&quot;monitoring&quot;</span><span class="p">,</span>
    <span class="s2">&quot;userPassword&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">,</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;smtp.example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">465</span><span class="p">,</span>
    <span class="s2">&quot;tls&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;startTls&quot;</span><span class="p">:</span> <span class="n">false</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">defaultSubject</span></code></td>
<td>Boolean</td>
<td>Default subject of the e-mail.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">charset</span></code></td>
<td>String</td>
<td>Charset of the e-mail.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">userMail</span></code></td>
<td>String</td>
<td>E-mail address of the sender.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">userName</span></code></td>
<td>String</td>
<td>SMTP login name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">userPassword</span></code></td>
<td>String</td>
<td>SMTP login password.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">host</span></code></td>
<td>String</td>
<td>SMTP host (IP address or FQDN).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>Integer</td>
<td>SMTP port.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tls</span></code></td>
<td>Boolean</td>
<td>If <code class="docutils literal"><span class="pre">true</span></code>, use TLS encryption.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">startTls</span></code></td>
<td>Boolean</td>
<td>If <code class="docutils literal"><span class="pre">true</span></code>, use TLS encryption with StartTLS.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="mastodonagent">
<span id="mastodon-agent"></span><h3>MastodonAgent<a class="headerlink" href="#mastodonagent" title="Permalink to this headline">¶</a></h3>
<p>The MastodonAgent sends “toots” to the Twitter-like social network <a class="reference external" href="https://mastodon.social/">Mastodon</a>
(see <a class="reference internal" href="#mastodon-screenshot"><span class="std std-numref">Fig. 5</span></a>). You need an account on one of the Mastodon
instances. See <a class="reference external" href="https://joinmastodon.org/">joinmastodon.org</a> for a list of servers. The length of
messages send to the Mastodon network is limited to 500 characters.</p>
<div class="section" id="id20">
<h4>Loading the Module<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<p>Add the MastodonAgent to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;mastodonAgent&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.MastodonAgent&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="figure align-center" id="id72">
<span id="mastodon-screenshot"></span><a class="reference internal image-reference" href="_images/mastodon.png"><img alt="OpenADMS alert message on Mastodon" src="_images/mastodon.png" style="width: 592.0px; height: 152.0px;" /></a>
<p class="caption"><span class="caption-number">Fig. 5 </span><span class="caption-text">OpenADMS alert message on Mastodon</span></p>
</div>
</div>
<div class="section" id="mastodon-message-format">
<h4>Mastodon Message Format<a class="headerlink" href="#mastodon-message-format" title="Permalink to this headline">¶</a></h4>
<p>The messages have to be structured in JSON format:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;mastodon&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello, world!&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">message</span></code></td>
<td>String</td>
<td>The text of the “toot” (&lt; 500 characters).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id21">
<h4>Configuration<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;mastodonAgent&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;mail@example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">,</span>
    <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://mastodon.at&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">email</span></code></td>
<td>String</td>
<td>E-mail address associated with the Mastodon account.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">password</span></code></td>
<td>String</td>
<td>Password of the Mastodon account.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">url</span></code></td>
<td>String</td>
<td>URL of the Mastodon instance.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id22">
<h4>Example<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<p>An <a class="reference internal" href="#alerter"><span class="std std-ref">Alerter</span></a> instance and an <a class="reference internal" href="#alert-message-formatter"><span class="std std-ref">AlertMessageFormatter</span></a> instance can be
used to send log messages to the MastodonAgent:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;alerter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.Alerter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mastodonFormatter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.AlertMessageFormatter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mastodonAgent&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.MastodonAgent&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;alerter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;mastodonFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;warning&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;mastodonAgent&quot;</span> <span class="p">],</span>
          <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;mastodonAgent&quot;</span> <span class="p">],</span>
          <span class="s2">&quot;critical&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;mastodonAgent&quot;</span> <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;mastodonFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;messageCollectionEnabled&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;messageCollectionTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;mastodon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;mastodonAgent&quot;</span><span class="p">,</span>
    <span class="s2">&quot;templates&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="s2">&quot;{{dt}} - {{project}} - {{node}} - {{name}} - {{level}} - {{message}}&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{}</span>
  <span class="p">},</span>
  <span class="s2">&quot;mastodonAgent&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;mail@example.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">,</span>
    <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://mastodon.at&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The setup can be tested with the <a class="reference internal" href="#error-generator"><span class="std std-ref">ErrorGenerator</span></a> module.</p>
</div>
</div>
<div class="section" id="rssagent">
<span id="rss-agent"></span><h3>RssAgent<a class="headerlink" href="#rssagent" title="Permalink to this headline">¶</a></h3>
<p>The RssAgent exports messages as an RSS 2.0 feed. Users can subscribe a public
feed to access log messages with a feed reader (see <a class="reference internal" href="#rss-android"><span class="std std-numref">Fig. 6</span></a>).
The RSS format is based on XML. The module accepts messages of type <code class="docutils literal"><span class="pre">rss</span></code>.</p>
<div class="figure align-center" id="id73">
<span id="rss-android"></span><a class="reference internal image-reference" href="_images/openadms_rss.png"><img alt="RSS feed with alert messages on Android" src="_images/openadms_rss.png" style="width: 324.0px; height: 576.0px;" /></a>
<p class="caption"><span class="caption-number">Fig. 6 </span><span class="caption-text">RSS feed with alert messages on Android</span></p>
</div>
<div class="section" id="id23">
<h4>Loading the Module<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<p>Add the RssAgent to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;rssAgent&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.RssAgent&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="rss-message-format">
<h4>RSS Message Format<a class="headerlink" href="#rss-message-format" title="Permalink to this headline">¶</a></h4>
<p>The messages send to the module have to be structured in JSON format:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;rss&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;mail@example.com (John Doe)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dt&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-09-18T19:55:45.955084+00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;guid&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:uuid:4d8fc364-f3fc-46d5-869b-7a7c1b9c8972&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-09-18T19:55:42 - error - preProcessor - No response in observation &#39;getDistance&#39; of target &#39;disto&#39;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;[OpenADMS] Alert Message - Example Project&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">author</span></code></td>
<td>String</td>
<td>Author of the RSS entry (optional).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">dt</span></code></td>
<td>String</td>
<td>Date and time of the RSS entry in UTC (optional).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">guid</span></code></td>
<td>String</td>
<td>Globally Unique Identifier (GUID) of the RSS entry
(optional).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">message</span></code></td>
<td>String</td>
<td>Message of the RSS entry.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">title</span></code></td>
<td>String</td>
<td>Title of the RSS entry (optional).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id24">
<h4>Configuration<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;rssAgent&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;mail@example.com (John Doe)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;OpenADMS RSS 2.0 Feed - Example Project&quot;</span><span class="p">,</span>
    <span class="s2">&quot;filePath&quot;</span><span class="p">:</span> <span class="s2">&quot;./feed.rss&quot;</span><span class="p">,</span>
    <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.example.com/feed.rss&quot;</span><span class="p">,</span>
    <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;OpenADMS Monitoring - Example Project&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">author</span></code></td>
<td>String</td>
<td>E-mail and name of the author (optional).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>Description text of the RSS feed.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">filePath</span></code></td>
<td>String</td>
<td>Path of the RSS file.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">language</span></code></td>
<td>String</td>
<td>ISO 639-1 language code (optional).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">link</span></code></td>
<td>String</td>
<td>URL of the RSS feed.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">size</span></code></td>
<td>Integer</td>
<td>Number of entries in the RSS feed.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">title</span></code></td>
<td>String</td>
<td>Title of the RSS feed.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id25">
<h4>Example<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<p>An <a class="reference internal" href="#alerter"><span class="std std-ref">Alerter</span></a> instance and an <a class="reference internal" href="#alert-message-formatter"><span class="std std-ref">AlertMessageFormatter</span></a> instance can be
used to send log messages to the RssAgent:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;alerter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.Alerter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rssFormatter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.AlertMessageFormatter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rssAgent&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.RssAgent&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;alerter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;rssFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;warning&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;rssAgent&quot;</span> <span class="p">],</span>
          <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;rssAgent&quot;</span> <span class="p">],</span>
          <span class="s2">&quot;critical&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;rssAgent&quot;</span> <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;rssFormatter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;messageCollectionEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;messageCollectionTime&quot;</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;rss&quot;</span><span class="p">,</span>
    <span class="s2">&quot;receiver&quot;</span><span class="p">:</span> <span class="s2">&quot;rssAgent&quot;</span><span class="p">,</span>
    <span class="s2">&quot;templates&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;header&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;![CDATA[&lt;p&gt;The following incident(s) occurred on node </span><span class="se">\&quot;</span><span class="s2">{{node}}</span><span class="se">\&quot;</span><span class="s2">:&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;ul&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;li&gt;&lt;code&gt;{{dt}} - {{level}} - {{message}}&lt;/code&gt;&lt;/li&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;footer&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;/ul&gt;]]&gt;&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;[OpenADMS] Alert Message - Example Project&quot;</span><span class="p">,</span>
      <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;mail@example.com (OpenADMS)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.example.com/feed.rss&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;rssAgent&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;mail@example.com (John Doe)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;OpenADMS RSS 2.0 Feed - Example Project&quot;</span><span class="p">,</span>
    <span class="s2">&quot;filePath&quot;</span><span class="p">:</span> <span class="s2">&quot;./feed.rss&quot;</span><span class="p">,</span>
    <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="s2">&quot;link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.example.com/feed.rss&quot;</span><span class="p">,</span>
    <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;OpenADMS Monitoring - Example Project&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The setup can be tested with the <a class="reference internal" href="#error-generator"><span class="std std-ref">ErrorGenerator</span></a> module.</p>
</div>
</div>
<div class="section" id="shortmessageagent">
<span id="short-message-agent"></span><h3>ShortMessageAgent<a class="headerlink" href="#shortmessageagent" title="Permalink to this headline">¶</a></h3>
<p>The ShortMessageAgent can be used to establish a socket connection to a
2G/3G/LTE modem/router and sending an XML-based alerting message to it. The
message will then be forwarded by Short Message Service (SMS). The module is
designed for industrial routers of <a class="reference external" href="https://www.mc-technologies.net/">MC Technologies</a>, but should also work with
other socket-based SMS servers.</p>
<div class="section" id="id26">
<h4>Loading the Module<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<p>Add the ShortMessageAgent to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;shortMessageAgent&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.notification.ShortMessageAgent&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="sms-message-format">
<h4>SMS Message Format<a class="headerlink" href="#sms-message-format" title="Permalink to this headline">¶</a></h4>
<p>The messages have to be structured in JSON format:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sms&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;+49176 012345678&quot;</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello, world!&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">number</span></code></td>
<td>String</td>
<td>Phone number of the receiver.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">message</span></code></td>
<td>String</td>
<td>SMS message text.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id27">
<h4>Configuration<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;shortMessageAgent&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;10.59.0.40&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">1432</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">host</span></code></td>
<td>String</td>
<td>Socket host (IP address or FQDN).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>Integer</td>
<td>Socket port.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="port">
<h2>Port<a class="headerlink" href="#port" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bluetoothport">
<span id="bluetooth-port"></span><h3>BluetoothPort<a class="headerlink" href="#bluetoothport" title="Permalink to this headline">¶</a></h3>
<p>The BluetoothPort can be used for RFCOMM serial communication. The module
initiates a socket connection to a sensor by using the native Bluetooth support
of Python 3.3. At the moment, the module is experimental and needs further
testing. It may be easier to use the Bluetooth driver to mount the Bluetooth
port as a local serial port.</p>
<div class="section" id="id28">
<h4>Loading the Module<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h4>
<p>Add the BluetoothPort to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;bt3&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.port.BluetoothPort&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id29">
<h4>Configuration<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h4>
<p>The configuration of BluetoothPort modules has to be placed in <code class="docutils literal"><span class="pre">ports</span></code> →
<code class="docutils literal"><span class="pre">bluetooth</span></code> → <em>instance name</em>, as shown below for the BluetoothPort instance
<code class="docutils literal"><span class="pre">bt3</span></code>.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;ports&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;bluetooth&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;bt3&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;serverMacAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;5D:4F:4E:F4:55:FD&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="15%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>Integer</td>
<td>Bluetooth port number.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">serverMacAddress</span></code></td>
<td>String</td>
<td>MAC address of the Bluetooth server/sensor.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="serialport">
<span id="serial-port"></span><h3>SerialPort<a class="headerlink" href="#serialport" title="Permalink to this headline">¶</a></h3>
<p>The SerialPort module is used for the communication with sensors connected to a
serial interface (RS-232, RS-422, or RS-485). The requests defined in the
<code class="docutils literal"><span class="pre">requestSets</span></code> dictionary of the observation will be send one after another to
the sensor. The sensor’s responses are then each stored in the corresponding
request set. The SerialPort module also sets the time stamp of the observation
to the moment the last response has been received.</p>
<p>The SerialPort can communicate with an attached sensor either in <em>active</em> or
<em>passive</em> mode:</p>
<dl class="docutils">
<dt>active</dt>
<dd>The port sends actively commands to a connected sensor in order to receive
responses (default mode).</dd>
<dt>passive</dt>
<dd>The port listens passively for incoming data of a connected sensor (must be
activated by an observation).</dd>
</dl>
<p>An observation can demand passive mode by setting its key <code class="docutils literal"><span class="pre">passiveMode</span></code> to
<code class="docutils literal"><span class="pre">true</span></code>. The passive mode can be left by a further observation with
<code class="docutils literal"><span class="pre">passiveMode</span></code> set to <code class="docutils literal"><span class="pre">false</span></code>. In passive mode, the serial port module
creates new observations as fast as incoming data from a sensor is received.</p>
<div class="section" id="id30">
<h4>Loading the Module<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h4>
<p>Add the SerialPort to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;com1&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.port.SerialPort&quot;</span><span class="p">,</span>
    <span class="s2">&quot;com2&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.port.SerialPort&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id31">
<h4>Configuration<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h4>
<p>In contrast to other modules, the configuration of SerialPort modules has to be
placed in <code class="docutils literal"><span class="pre">ports</span></code> → <code class="docutils literal"><span class="pre">serial</span></code> → <em>instance name</em>, as shown below for the
SerialPort instances <code class="docutils literal"><span class="pre">com1</span></code> and <code class="docutils literal"><span class="pre">com2</span></code>.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;ports&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;serial&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;com1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;COM1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;baudRate&quot;</span><span class="p">:</span> <span class="mi">9600</span><span class="p">,</span>
        <span class="s2">&quot;byteSize&quot;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="s2">&quot;stopBits&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;parity&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;softwareFlowControl&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;hardwareFlowControl&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;maxAttempts&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">},</span>
      <span class="s2">&quot;com2&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;COM2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;baudRate&quot;</span><span class="p">:</span> <span class="mi">4800</span><span class="p">,</span>
        <span class="s2">&quot;byteSize&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
        <span class="s2">&quot;stopBits&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;parity&quot;</span><span class="p">:</span> <span class="s2">&quot;even&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;softwareFlowControl&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;hardwareFlowControl&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;maxAttempts&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="15%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>String</td>
<td>Name of the port (<code class="docutils literal"><span class="pre">COMX</span></code> or <code class="docutils literal"><span class="pre">/dev/ttyX</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">baudRate</span></code></td>
<td>Integer</td>
<td>Baud rate (e.g., <code class="docutils literal"><span class="pre">4800</span></code>, <code class="docutils literal"><span class="pre">9600</span></code>, or
<code class="docutils literal"><span class="pre">115200</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">byteSize</span></code></td>
<td>Integer</td>
<td>Start bits, either <code class="docutils literal"><span class="pre">5</span></code>, <code class="docutils literal"><span class="pre">6</span></code>, <code class="docutils literal"><span class="pre">7</span></code>, or
<code class="docutils literal"><span class="pre">8</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">stopBits</span></code></td>
<td>Integer</td>
<td>Stop bits, either <code class="docutils literal"><span class="pre">1</span></code> or <code class="docutils literal"><span class="pre">2</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">parity</span></code></td>
<td>String</td>
<td>Parity, either <code class="docutils literal"><span class="pre">none</span></code>, <code class="docutils literal"><span class="pre">even</span></code>, or <code class="docutils literal"><span class="pre">odd</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">timeout</span></code></td>
<td>Float</td>
<td>Timeout in seconds.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">softwareFlowControl</span></code></td>
<td>Boolean</td>
<td>XON/XOFF flow control.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">hardwareFlowControl</span></code></td>
<td>Boolean</td>
<td>RTS/CTS flow control.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">maxAttempts</span></code></td>
<td>Integer</td>
<td>Maximum number of attempts to access the port.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="processing">
<h2>Processing<a class="headerlink" href="#processing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="preprocessor">
<span id="pre-processor"></span><h3>PreProcessor<a class="headerlink" href="#preprocessor" title="Permalink to this headline">¶</a></h3>
<p>The PreProcessor module is used to extract values from a raw response of an
observation and convert them to given data types (i.e., from string to integer
or from string to float). Every observation object has both <code class="docutils literal"><span class="pre">requestSets</span></code> and
<code class="docutils literal"><span class="pre">responseSets</span></code>, with a regular expression stored in the <code class="docutils literal"><span class="pre">response</span></code> of each
request set. In order to extract single values from the raw response, so called
named groups have to be defined within the regular expressions (<a class="reference external" href="http://www.regular-expressions.info/named.html">more
information</a>). The groups are mapped by the PreProcessor module to the
according response sets.</p>
<div class="section" id="id32">
<h4>Example<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h4>
<p>The sensor configuration of a fictional extensometer is listed below. The
request set <code class="docutils literal"><span class="pre">getValues</span></code> has the response pattern
<code class="docutils literal"><span class="pre">(?P&lt;distance&gt;[-]?\\d\\.\\d+)</span></code> with a named group <code class="docutils literal"><span class="pre">distance</span></code> in it. The
character <code class="docutils literal"><span class="pre">\</span></code> has to be escaped in JSON, therefore it is written as <code class="docutils literal"><span class="pre">\\</span></code>.
The fitting response set <code class="docutils literal"><span class="pre">distance</span></code> expects the data type <code class="docutils literal"><span class="pre">float</span></code>. Note,
that group name and response set have the very same name (in this case
<code class="docutils literal"><span class="pre">distance</span></code>).</p>
<p>The value of group <code class="docutils literal"><span class="pre">distance</span></code> is extracted from the (raw) response
<code class="docutils literal"><span class="pre">&gt;+25.1203</span></code> by the PreProcessor using the regular expression, converted to
float, and then stored in the corresponding response set <code class="docutils literal"><span class="pre">distance</span></code> by adding
a key <code class="docutils literal"><span class="pre">value</span></code> to the dictionary, containing the actual measurement value
(<code class="docutils literal"><span class="pre">25.1203</span></code>).</p>
<p>The PreProcessor performs the following steps:</p>
<ol class="arabic simple">
<li>Read raw sensor data <code class="docutils literal"><span class="pre">&gt;+25.1203</span></code> from field <code class="docutils literal"><span class="pre">response</span></code> of request set
<code class="docutils literal"><span class="pre">getValue</span></code>.</li>
<li>Extract <code class="docutils literal"><span class="pre">+25.1203</span></code> using the regular expression
<code class="docutils literal"><span class="pre">(?P&lt;distance&gt;[-]?\\d\\.\\d+)</span></code>.</li>
<li>Convert the string <code class="docutils literal"><span class="pre">+25.1203</span></code> to the float <code class="docutils literal"><span class="pre">25.1203</span></code>.</li>
<li>Write value <code class="docutils literal"><span class="pre">25.1203</span></code> to response set <code class="docutils literal"><span class="pre">distance</span></code>.</li>
</ol>
<p>The observation data object is then forwarded to the next receiver.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;sensors&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;extensometer&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;example of an extensometer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;extensometer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;observations&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;doMeasure&quot;</span><span class="p">,</span>
          <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;get sensor value&quot;</span><span class="p">,</span>
          <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;6dc84c06018043ba84ac90636ed0f677&quot;</span><span class="p">,</span>
          <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;EXT&quot;</span><span class="p">,</span>
          <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;com1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;preProcessor&quot;</span>
          <span class="p">],</span>
          <span class="s2">&quot;nextReceiver&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
          <span class="s2">&quot;onetime&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
          <span class="s2">&quot;requestsOrder&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;getValue&quot;</span>
          <span class="p">],</span>
          <span class="s2">&quot;requestSets&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;getValue&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
              <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;?</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span>
              <span class="s2">&quot;response&quot;</span><span class="p">:</span> <span class="s2">&quot;&gt;+25.1203&quot;</span><span class="p">,</span>
              <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span>
              <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?P&lt;distance&gt;[+-]?</span><span class="se">\\</span><span class="s2">d+</span><span class="se">\\</span><span class="s2">.</span><span class="se">\\</span><span class="s2">d+)&quot;</span><span class="p">,</span>
              <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
              <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="s2">&quot;responseSets&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;distance&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
              <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;25.1203&quot;</span><span class="p">,</span>
              <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;mm&quot;</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id33">
<h4>Loading the Module<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h4>
<p>Add the PreProcessor to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;preProcessor&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.processing.PreProcessor&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id34">
<h4>Configuration<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h4>
<p>The module PreProcessor has nothing to configure.</p>
</div>
</div>
<div class="section" id="responsevalueinspector">
<span id="response-value-inspector"></span><h3>ResponseValueInspector<a class="headerlink" href="#responsevalueinspector" title="Permalink to this headline">¶</a></h3>
<p>The ResponseValueInspector checks if response values of observations are within
defined thresholds. It works by checking received observations against the
allowed minimum and maximum values of responses defined in the configuration. A
log messages of level “critical” will be raised if a response value deceeds the
minimum or exceeds the maximum.</p>
<div class="section" id="id35">
<h4>Example<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h4>
<p>The response <code class="docutils literal"><span class="pre">slopeDist</span></code> of an arbitrary observation <code class="docutils literal"><span class="pre">getDistance</span></code> should be
between definied lower and upper boundaries. The minimum distance allowed is 2.0
m, the maximum is 300.0 m. Add the name of the observation to the configuration
of the module and set the <code class="docutils literal"><span class="pre">min</span></code> and <code class="docutils literal"><span class="pre">max</span></code> values of the response
<code class="docutils literal"><span class="pre">slopeDist</span></code> to the designated values:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;responseValueInspector&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;observations&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;getDistance&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;slopeDist&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span>
          <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">300.0</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The ResponseValueInspector can be used to watch directions, angles, and other
numerical values (integer or float) as well.</p>
</div>
<div class="section" id="id36">
<h4>Loading the Module<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h4>
<p>Add the ResponseValueInspector to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;responseValueInspector&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.processing.ResponseValueInspector&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id37">
<h4>Configuration<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;responseValueInspector&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;observations&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;&lt;observationName&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;&lt;responseName&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
          <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="mf">300.0</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">observations</span></code></td>
<td>Dict</td>
<td>Observations with response names and there minimum
and maximum values.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">min</span></code></td>
<td>Float</td>
<td>Minimum value of the response.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">max</span></code></td>
<td>Float</td>
<td>Maximum value of the response.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="returncodeinspector">
<span id="return-code-inspector"></span><h3>ReturnCodeInspector<a class="headerlink" href="#returncodeinspector" title="Permalink to this headline">¶</a></h3>
<p>The ReturnCodeInspector module generates log messages out of responses of
sensors of Leica Geosystems. Generally, every response of a sensor of Leica
Geosystem contains a so called <em>return code</em>, a decimal number which reveals
further information about the sensor or the measurement.</p>
<p>The return codes and their descriptions are hard-coded into the module, as well
as the log level (debug, info, warning, error, critical) and the setting whether
or not a failed measurement should be repeated. The number of retries and the
names of return code response sets can be defined in the configuration.</p>
<div class="section" id="id38">
<h4>Example<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h4>
<p>In the example below, an observation of a total station is listed. The response
pattern of the request set <code class="docutils literal"><span class="pre">getSensorId</span></code> contains a named group
<code class="docutils literal"><span class="pre">returnCode</span></code>, which will be mapped to the corresponding response set
<code class="docutils literal"><span class="pre">returnCode</span></code> by the PreProcessor module. The ReturnCodeInspector checks the
response sets with the key <code class="docutils literal"><span class="pre">returnCode</span></code>. If the return code is greater <code class="docutils literal"><span class="pre">0</span></code>
it will generate a log message.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;initialize&quot;</span><span class="p">,</span>
  <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;initialize the sensor&quot;</span><span class="p">,</span>
  <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;preProcessor&quot;</span><span class="p">,</span>
    <span class="s2">&quot;returnCodeInspector&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;nextReceiver&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;onetime&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;init&quot;</span><span class="p">,</span>
  <span class="s2">&quot;requestSets&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;getSensorId&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,5003:</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;returnCode&gt;</span><span class="se">\\</span><span class="s2">d+)(?:,(?P&lt;sensorId&gt;</span><span class="se">\\</span><span class="s2">d+))?&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;requestsOrder&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;getSensorId&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;responseSets&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;returnCode&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
      <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">7</span>
    <span class="p">},</span>
    <span class="s2">&quot;sensorId&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
      <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="mi">9999999</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id39">
<h4>Loading the Module<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h4>
<p>Add the ReturnCodeInspector to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;returnCodeInspector&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.processing.ReturnCodeInspector&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id40">
<h4>Configuration<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;returnCodeInspector&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;retries&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;responseSets&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;returnCode&quot;</span><span class="p">,</span>
      <span class="s2">&quot;returnCodeSetDirection&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">retries</span></code></td>
<td>Integer</td>
<td>Number of retries after a failed observation.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">responseSets</span></code></td>
<td>List</td>
<td>List of return code response set names to search for.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="unitconverter">
<span id="unit-converter"></span><h3>UnitConverter<a class="headerlink" href="#unitconverter" title="Permalink to this headline">¶</a></h3>
<p>The UnitConverter module can be used to convert observation values from one unit
to another. For instance, a given distance in millimetres can be converted to
metres by scaling it with the factor <code class="docutils literal"><span class="pre">0.001</span></code>. Add a definition to the
configuration of the module for each response you want to convert. The name of
the response is used as an identifier in the configuration.</p>
<div class="section" id="id41">
<h4>Loading the Module<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<p>Add the UnitConverter to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;unitConverter&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.processing.UnitConverter&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id42">
<h4>Configuration<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h4>
<p>The configuration below shows the definition of a unit conversion from <code class="docutils literal"><span class="pre">mm</span></code> to
<code class="docutils literal"><span class="pre">m</span></code> for a response set with the name <code class="docutils literal"><span class="pre">slopeDist</span></code>.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;unitConverter&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;slopeDist&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;conversionType&quot;</span><span class="p">:</span> <span class="s2">&quot;scale&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sourceUnit&quot;</span><span class="p">:</span> <span class="s2">&quot;mm&quot;</span><span class="p">,</span>
      <span class="s2">&quot;scalingValue&quot;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
      <span class="s2">&quot;targetUnit&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="15%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">conversionType</span></code></td>
<td>String</td>
<td>Currently, only the conversion type <code class="docutils literal"><span class="pre">scale</span></code> is
supported.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sourceUnit</span></code></td>
<td>String</td>
<td>Unit of the source value (e.g., <code class="docutils literal"><span class="pre">mm</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">scalingValue</span></code></td>
<td>Float</td>
<td>Scaling value (e.g., <code class="docutils literal"><span class="pre">0.1</span></code> or <code class="docutils literal"><span class="pre">1000.0</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">targetUnit</span></code></td>
<td>String</td>
<td>New unit of the result value (e.g., <code class="docutils literal"><span class="pre">m</span></code>).</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="prototype">
<h2>Prototype<a class="headerlink" href="#prototype" title="Permalink to this headline">¶</a></h2>
<p>All modules are a subclass of the module <code class="docutils literal"><span class="pre">Prototype</span></code>.</p>
<div class="section" id="id43">
<span id="id44"></span><h3>Prototype<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section is still under construction.</p>
</div>
</div>
</div>
<div class="section" id="schedule">
<h2>Schedule<a class="headerlink" href="#schedule" title="Permalink to this headline">¶</a></h2>
<div class="section" id="scheduler">
<span id="id45"></span><h3>Scheduler<a class="headerlink" href="#scheduler" title="Permalink to this headline">¶</a></h3>
<p>The Scheduler module coordinates the monitoring process by following a schedule
with start and end time to send observations to a defined sensor. It is
mandatory to create a scheduler for each (serial) port instance to start a
deformation monitoring.</p>
<p>The Scheduler works as a facilitator between the sensor and the port.
Observations of a sensor listed in <code class="docutils literal"><span class="pre">observations</span></code> are send one by one to the
bind port instance, using the according schedule.</p>
<div class="section" id="id46">
<h4>Loading the Module<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h4>
<p>Add the Scheduler to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;schedulerCom1&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.schedule.Scheduler&quot;</span><span class="p">,</span>
    <span class="s2">&quot;schedulerCom2&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.schedule.Scheduler&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The name of each instance can be chosen freely.</p>
</div>
<div class="section" id="id47">
<h4>Configuration<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h4>
<p>Schedulers are configured separately in the <code class="docutils literal"><span class="pre">schedulers</span></code> section of the
configuration, defined by the name of the respective module instance (e.g.,
<code class="docutils literal"><span class="pre">schedulerCom1</span></code>, <code class="docutils literal"><span class="pre">schedulerCom2</span></code>, and so on).</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;schedulers&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;schedulerCom1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;com1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sensor&quot;</span><span class="p">:</span> <span class="s2">&quot;leicaTm30&quot;</span><span class="p">,</span>
      <span class="s2">&quot;schedules&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
          <span class="s2">&quot;startDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-02-01&quot;</span><span class="p">,</span>
          <span class="s2">&quot;endDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-07-30&quot;</span><span class="p">,</span>
          <span class="s2">&quot;weekdays&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;monday&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="p">{</span>
                <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;00:00:00&quot;</span><span class="p">,</span>
                <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;08:00:00&quot;</span>
              <span class="p">},</span>
              <span class="p">{</span>
                <span class="s2">&quot;startTime&quot;</span><span class="p">:</span> <span class="s2">&quot;10:00:00&quot;</span><span class="p">,</span>
                <span class="s2">&quot;endTime&quot;</span><span class="p">:</span> <span class="s2">&quot;23:59:59&quot;</span>
              <span class="p">}</span>
            <span class="p">],</span>
            <span class="s2">&quot;tuesday&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;wednesday&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;thursday&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;friday&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;saturday&quot;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s2">&quot;sunday&quot;</span><span class="p">:</span> <span class="p">[]</span>
          <span class="p">},</span>
          <span class="s2">&quot;observations&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;doInit&quot;</span><span class="p">,</span>
            <span class="s2">&quot;getTargetP1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;getTargetP2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;getTargetP3&quot;</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;schedulerCom2&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="s2">&quot;com2&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sensor&quot;</span><span class="p">:</span> <span class="s2">&quot;stsDtm&quot;</span><span class="p">,</span>
      <span class="s2">&quot;schedules&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
          <span class="s2">&quot;startDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-02-01&quot;</span><span class="p">,</span>
          <span class="s2">&quot;endDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-07-30&quot;</span><span class="p">,</span>
          <span class="s2">&quot;weekdays&quot;</span><span class="p">:</span> <span class="p">{},</span>
          <span class="s2">&quot;observations&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;getValues&quot;</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>String</td>
<td>Name of the port module instance (e.g., <code class="docutils literal"><span class="pre">com1</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sensor</span></code></td>
<td>String</td>
<td>Name of the sensor as defined in <code class="docutils literal"><span class="pre">sensors</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">schedules</span></code></td>
<td>List</td>
<td>List of schedules.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="server">
<h2>Server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h2>
<div class="section" id="localcontrolserver">
<span id="local-control-server"></span><h3>LocalControlServer<a class="headerlink" href="#localcontrolserver" title="Permalink to this headline">¶</a></h3>
<p>The LocalControlServer provides a simple web-based user interface for remote
control that can be accessed with a browser (see <a class="reference internal" href="#lcs"><span class="std std-numref">Fig. 7</span></a>). The module shows
some project information, system parameters, loaded modules, used sensors, and
log messages.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The web interface does not feature any kind of authentification or password
protection. For public Internet access it is recommended to use a reverse
proxy server, like Nginx or Hiawatha.</p>
</div>
<div class="figure" id="id74">
<span id="lcs"></span><img alt="The web-based user interface of the LocalControlServer" src="_images/localcontrolserver.png" />
<p class="caption"><span class="caption-number">Fig. 7 </span><span class="caption-text">The web-based user interface of the LocalControlServer</span></p>
</div>
<div class="section" id="id48">
<h4>Loading the Module<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h4>
<p>Add the LocalControlServer to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;localControlServer&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.server.LocalControlServer&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id49">
<h4>Configuration<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;localControlServer&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">8080</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="15%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">host</span></code></td>
<td>String</td>
<td>FQDN or IP address. Use a public IP or <code class="docutils literal"><span class="pre">0.0.0.0</span></code> if the
server should be accessible from outside.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>Integer</td>
<td>Port number (e.g., <code class="docutils literal"><span class="pre">80</span></code> or <code class="docutils literal"><span class="pre">8080</span></code>).</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Modules in this package are used to test the monitoring system.</p>
<div class="section" id="errorgenerator">
<span id="error-generator"></span><h3>ErrorGenerator<a class="headerlink" href="#errorgenerator" title="Permalink to this headline">¶</a></h3>
<p>The ErrorGenerator creates log messages in a set interval. The module can be
used to test the processing of warning, error, and critical log messages.</p>
<div class="section" id="id50">
<h4>Loading the Module<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h4>
<p>Add the ErrorGenerator to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;errorGenerator&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.testing.ErrorGenerator&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id51">
<h4>Configuration<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;errorGenerator&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;warning&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;critical&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;interval&quot;</span><span class="p">:</span> <span class="mi">30</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="15%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">warning</span></code></td>
<td>Boolean</td>
<td>Turns log messages of level “warning” on or off.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">error</span></code></td>
<td>Boolean</td>
<td>Turns log messages of level “error” on or off.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">critical</span></code></td>
<td>Boolean</td>
<td>Turns log messages of level “critical” on or off.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">interval</span></code></td>
<td>Float</td>
<td>Interval in which new log messages are generated.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="totalstation">
<h2>Totalstation<a class="headerlink" href="#totalstation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="distancecorrector">
<span id="distance-corrector"></span><h3>DistanceCorrector<a class="headerlink" href="#distancecorrector" title="Permalink to this headline">¶</a></h3>
<p>The DistanceCorrector module applies atmospheric and sea level reductions to
measured EDM distances of total stations.</p>
<p>The atmospheric correction uses temperature, pressure, and humidity to calculate
the reduced distance. The values can be updated by sending observations of a
weather station to the DistanceCorrector. The response sets must have the names
<code class="docutils literal"><span class="pre">temperature</span></code>, <code class="docutils literal"><span class="pre">pressure</span></code>, and <code class="docutils literal"><span class="pre">humidity</span></code> to be noticed by the module. The
calculated atmospheric PPM value is stored in the response set
<code class="docutils literal"><span class="pre">atmosphericPpm</span></code> of the observation.</p>
<p>The sea level correction reduces the distance to sealevel (0 m). The calculated
sea level delta value is stored in the response set <code class="docutils literal"><span class="pre">seaLevelDelta</span></code> of the
observation.</p>
<p>The name of the response set of the distance can be set in the configuration.
The raw distance is moved to a new response set with the postfix <code class="docutils literal"><span class="pre">Raw</span></code> (e.g.,
the raw response set <code class="docutils literal"><span class="pre">slopeDist</span></code> is moved to <code class="docutils literal"><span class="pre">slopeDistRaw</span></code>). The original
response set gets overwritten by the corrected value (<code class="docutils literal"><span class="pre">slopeDist</span></code> then stores
the corrected distance).</p>
<div class="section" id="id52">
<h4>Loading the Module<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h4>
<p>Add the DistanceCorrector to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;distanceCorrector&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.totalstation.DistanceCorrector&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id53">
<h4>Configuration<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;distanceCorrector&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;distanceName&quot;</span><span class="p">:</span> <span class="s2">&quot;slopeDist&quot;</span><span class="p">,</span>
    <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
    <span class="s2">&quot;pressure&quot;</span><span class="p">:</span> <span class="mf">1010.0</span><span class="p">,</span>
    <span class="s2">&quot;humidity&quot;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">,</span>
    <span class="s2">&quot;atmosphericCorrectionEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;seaLevelCorrectionEnabled&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">&quot;sensorHeight&quot;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="14%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">distanceName</span></code></td>
<td>String</td>
<td>Name of the response set of the raw distance.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">temperature</span></code></td>
<td>Float</td>
<td>Default temperature in °C.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">pressure</span></code></td>
<td>Float</td>
<td>Default pressure in mbar/hPa.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">humidity</span></code></td>
<td>Float</td>
<td>Default humidity between <code class="docutils literal"><span class="pre">0.0</span></code> and <code class="docutils literal"><span class="pre">1.0</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">atmosphericCorrectionEnabled</span></code></td>
<td>Boolean</td>
<td>Enables atmospheric correction of distances.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">seaLevelCorrectionEnabled</span></code></td>
<td>Boolean</td>
<td>Enables sea level reduction of distances.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sensorHeight</span></code></td>
<td>Float</td>
<td>Sensor height for sealevel reduction.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="helmerttransformer">
<span id="helmert-transformer"></span><h3>HelmertTransformer<a class="headerlink" href="#helmerttransformer" title="Permalink to this headline">¶</a></h3>
<p>The HelmertTransformer module does a distortion-free seven-parameter
transformation from one datum to another in order to calculate the view point of
a total station and the coordiantes of observed target points. The coordinates
of the fixed points must be defined in the configuration.</p>
<p>An observation will be created for the view point and send to a list of
receivers. The calculated coordinates of the target points are stored as
response sets in the observations (<code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">y</span></code>, and <code class="docutils literal"><span class="pre">z</span></code>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please be aware that the keys of the fixed points defined in the dictionary
<code class="docutils literal"><span class="pre">fixedPoints</span></code> must match the target names of the actual fixed points
observed by the total station. Otherwise, an assignment between them is not
possible.</p>
</div>
<div class="section" id="id54">
<h4>Loading the Module<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h4>
<p>Add the HelmertTransformer to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;helmertTransformer&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.totalstation.HelmertTransformer&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id55">
<h4>Configuration<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;helmertTransformer&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;residualMismatchTransformationEnabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;viewPoint&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;p6&quot;</span><span class="p">,</span>
      <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;fileExporter&quot;</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;fixedPoints&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;p1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mi">100</span>
      <span class="p">},</span>
      <span class="s2">&quot;p2&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1995.488</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">1003.768</span><span class="p">,</span>
        <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mf">100.008</span>
      <span class="p">},</span>
      <span class="s2">&quot;p3&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1994.49</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">996.26</span><span class="p">,</span>
        <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mf">100.021</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="12%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">residualMismatchTransformationEnabled</span></code></td>
<td>Boolean</td>
<td>Prorate residuals between the target points.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">viewPoint</span></code></td>
<td>Dict</td>
<td>Target names and receivers of the view point.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fixedPoints</span></code></td>
<td>Dict</td>
<td>Target names and coordinates of the fixed points.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="polartransformer">
<span id="polar-transformer"></span><h3>PolarTransformer<a class="headerlink" href="#polartransformer" title="Permalink to this headline">¶</a></h3>
<p>The PolarTransformer module is used to calculate polar coordinates from
Cartesian coordinates. The position of the sensor and the azimuth must be
defined in the configuration. The coordinates of a target point (<code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">y</span></code>,
and <code class="docutils literal"><span class="pre">z</span></code>) are calculated by using trigonometric functions and then saved as
response sets in the observation.</p>
<div class="section" id="id56">
<h4>Loading the Module<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h4>
<p>Add the PolarTransformer to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;polarTransformer&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.totalstation.PolarTransformer&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id57">
<h4>Configuration<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;polarTransformer&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;viewPoint&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
      <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">992.51</span><span class="p">,</span>
      <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mi">100</span>
    <span class="p">},</span>
    <span class="s2">&quot;fixedPoints&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;p1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mi">100</span>
      <span class="p">},</span>
      <span class="s2">&quot;p2&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1995.488</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">1003.768</span><span class="p">,</span>
        <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mf">100.008</span>
      <span class="p">},</span>
      <span class="s2">&quot;p3&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">1994.49</span><span class="p">,</span>
        <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">996.26</span><span class="p">,</span>
        <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="mf">100.021</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;azimuthPointName&quot;</span><span class="p">:</span> <span class="s2">&quot;p1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;azimuthAngle&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">&quot;adjustmentEnabled&quot;</span><span class="p">:</span> <span class="n">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="15%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">viewPoint</span></code></td>
<td>Dict</td>
<td>Coordinates of the sensor position (<code class="docutils literal"><span class="pre">x</span></code>,
<code class="docutils literal"><span class="pre">y</span></code>, <code class="docutils literal"><span class="pre">z</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fixedPoints</span></code></td>
<td>Dict</td>
<td>Coordinates of the fixed points (<code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">y</span></code>,
<code class="docutils literal"><span class="pre">z</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">azimuthPointName</span></code></td>
<td>Dict</td>
<td>Name of the fixed point that sets the azimuth.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">azimuthAngle</span></code></td>
<td>Dict</td>
<td>Global azimuth in gon. Set to <code class="docutils literal"><span class="pre">0</span></code> if no
global coordinate system is used.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">adjustmentEnabled</span></code></td>
<td>Dict</td>
<td>Turns the adjustment of the orientation using
more than one fixed point on or off (in German:
<em>Abriss</em>).</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="refractioncorrector">
<span id="refraction-corrector"></span><h3>RefractionCorrector<a class="headerlink" href="#refractioncorrector" title="Permalink to this headline">¶</a></h3>
<p>RefractionCorrector removes the influence of the refraction from a measured
distance and corrects the Z value of an observed target.</p>
<div class="section" id="id58">
<h4>Loading the Module<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h4>
<p>Add the RefractionCorrector to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;refractionCorrector&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.totalstation.RefractionCorrector&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id59">
<h4>Configuration<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h4>
<p>The module RefractionCorrector has nothing to configure.</p>
</div>
</div>
<div class="section" id="serialmeasurementprocessor">
<span id="serial-measurement-processor"></span><h3>SerialMeasurementProcessor<a class="headerlink" href="#serialmeasurementprocessor" title="Permalink to this headline">¶</a></h3>
<p>The SerialMeasurementProcessor is used for total station observations in two
faces. The response sets of the first face have to be named <code class="docutils literal"><span class="pre">hz0</span></code>, <code class="docutils literal"><span class="pre">v0</span></code>, and
<code class="docutils literal"><span class="pre">slopeDist0</span></code>, whereas the response sets of the second face must be <code class="docutils literal"><span class="pre">hz1</span></code>,
<code class="docutils literal"><span class="pre">v1</span></code>, and <code class="docutils literal"><span class="pre">slopeDist1</span></code>. The module creates a new response set inside the
observation object for each arithmetically averaged value (named <code class="docutils literal"><span class="pre">hz</span></code>, <code class="docutils literal"><span class="pre">v</span></code>,
and <code class="docutils literal"><span class="pre">slopeDist</span></code>).</p>
<p>An appropriate requests order is necessary for a measurement in two faces:</p>
<ol class="arabic simple">
<li>Set the direction to the target.</li>
<li>Do measure in face 0.</li>
<li>Get the measured values (<code class="docutils literal"><span class="pre">hz0</span></code>, <code class="docutils literal"><span class="pre">v0</span></code>, <code class="docutils literal"><span class="pre">slopeDist0</span></code>, etc.).</li>
<li>Change the total station to face 1.</li>
<li>Do measure face 1.</li>
<li>Get the measured values (<code class="docutils literal"><span class="pre">hz1</span></code>, <code class="docutils literal"><span class="pre">v1</span></code>, <code class="docutils literal"><span class="pre">slopeDist1</span></code>, etc.).</li>
<li>Change the total station back to face 0.</li>
</ol>
<div class="section" id="id60">
<h4>Example<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h4>
<p>The example shows a measurement with the Leica TM30 total station in two faces.
Both measurements, in face 1 and face 2, are done in one observation, with
response sets for each face.</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;getP1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;p1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;complete measurement of P1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;nextReceiver&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">&quot;onetime&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;receivers&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;preProcessor&quot;</span><span class="p">,</span>
    <span class="s2">&quot;returnCodeInspector&quot;</span><span class="p">,</span>
    <span class="s2">&quot;serialMeasurementProcessor&quot;</span><span class="p">,</span>
    <span class="s2">&quot;distanceCorrector&quot;</span><span class="p">,</span>
    <span class="s2">&quot;polarTransformer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fileExporter&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;requestSets&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;changeFace&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,9028:1,1,0</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;rcChangeFace&gt;</span><span class="se">\\</span><span class="s2">d+)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">},</span>
    <span class="s2">&quot;getFace0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,2026:</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;rcGetFace0&gt;</span><span class="se">\\</span><span class="s2">d+)(?:,(?P&lt;face0&gt;</span><span class="se">\\</span><span class="s2">d+))?&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">},</span>
    <span class="s2">&quot;getFace1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,2026:</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;rcGetFace1&gt;</span><span class="se">\\</span><span class="s2">d+)(?:,(?P&lt;face1&gt;</span><span class="se">\\</span><span class="s2">d+))?&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">},</span>
    <span class="s2">&quot;getValuesFace0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,2167:5000,1</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;rcGetValues0&gt;</span><span class="se">\\</span><span class="s2">d+)(?:,(?P&lt;hz0&gt;</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d+),(?P&lt;v0&gt;</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d+),(?P&lt;accAngle0&gt;-?</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d+),(?P&lt;c0&gt;-?</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d*),(?P&lt;l0&gt;-?</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d*),(?P&lt;accIncl0&gt;-?</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d*),(?P&lt;slopeDist0&gt;</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d*),(?P&lt;distTime0&gt;-?</span><span class="se">\\</span><span class="s2">d*))?&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">},</span>
    <span class="s2">&quot;getValuesFace1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,2167:5000,1</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;rcGetValues1&gt;</span><span class="se">\\</span><span class="s2">d+)(?:,(?P&lt;hz1&gt;</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d+),(?P&lt;v1&gt;</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d+),(?P&lt;accAngle1&gt;-?</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d+),(?P&lt;c1&gt;-?</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d*),(?P&lt;l1&gt;-?</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d*),(?P&lt;accIncl1&gt;-?</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d*),(?P&lt;slopeDist1&gt;</span><span class="se">\\</span><span class="s2">d*</span><span class="se">\\</span><span class="s2">.?</span><span class="se">\\</span><span class="s2">d*),(?P&lt;distTime1&gt;-?</span><span class="se">\\</span><span class="s2">d*))?&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">},</span>
    <span class="s2">&quot;measureDistanceFace0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,2008:1,1</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;rcMeasureDistance0&gt;</span><span class="se">\\</span><span class="s2">d+)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">},</span>
    <span class="s2">&quot;measureDistanceFace1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,2008:1,1</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;rcMeasureDistance1&gt;</span><span class="se">\\</span><span class="s2">d+)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">},</span>
    <span class="s2">&quot;setDirection&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="s2">&quot;%R1Q,9027:0.0,1.59115,2,1,0</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responseDelimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span>
      <span class="s2">&quot;responsePattern&quot;</span><span class="p">:</span> <span class="s2">&quot;(?:%R1P,0,0:)(?P&lt;rcSetDirection&gt;</span><span class="se">\\</span><span class="s2">d+)&quot;</span><span class="p">,</span>
      <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="mi">30</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;requestsOrder&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;setDirection&quot;</span><span class="p">,</span>
    <span class="s2">&quot;getFace0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;measureDistanceFace0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;getValuesFace0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;changeFace&quot;</span><span class="p">,</span>
    <span class="s2">&quot;getFace1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;measureDistanceFace1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;getValuesFace1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;changeFace&quot;</span>
  <span class="p">],</span>
  <span class="s2">&quot;responseSets&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;accAngle0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;accAngle1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;accIncl0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;accIncl1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;c0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;c1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;distTime0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;ns&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;distTime1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;ns&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;face0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;face1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;hz0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;hz1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;l0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;l1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;rcChangeFace&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;rcGetFace0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;rcGetFace1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;rcGetValues0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;rcGetValues1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;rcMeasureDistance0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;rcMeasureDistance1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;rcSetDirection&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;slopeDist0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;slopeDist1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;v0&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;v1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span>
      <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;rad&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;sleepTime&quot;</span><span class="p">:</span> <span class="mi">25</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id61">
<h4>Loading the Module<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h4>
<p>Add the SerialMeasurementProcessor to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core
configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;serialMeasurementProcessor&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.totalstation.SerialMeasurementProcessor&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id62">
<h4>Configuration<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h4>
<p>The module SerialMeasurementProcessor has nothing to configure.</p>
</div>
</div>
</div>
<div class="section" id="unix">
<h2>Unix<a class="headerlink" href="#unix" title="Permalink to this headline">¶</a></h2>
<p>Modules in the Unix package can be used on selected Unix operating systems only,
for example, FreeBSD, DragonFly BSD, NetBSD, and OpenBSD. This limitation may be
due to dependencies or system calls that are available on Unix only. In general,
modules of the Unix package are not compatible with Linux. Further restrictions
may apply.</p>
<div class="section" id="gpiocontroller">
<span id="gpio-controller"></span><h3>GpioController<a class="headerlink" href="#gpiocontroller" title="Permalink to this headline">¶</a></h3>
<p>The GpioController uses system tools of FreeBSD, NetBSD, and OpenBSD to control
the GPIO interface of the Raspberry Pi single-board computer. The state of a
single pin can be set to either <code class="docutils literal"><span class="pre">0</span></code> or <code class="docutils literal"><span class="pre">1</span></code> in order to control external
devices or relays. The pin is switched by sending a message of type <code class="docutils literal"><span class="pre">gpio</span></code> to
the module instance. After the set duration the pin changes back to the default.</p>
<div class="section" id="id63">
<h4>Loading the Module<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h4>
<p>Add the GpioController to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;gpioController&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.unix.GpioController&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="gpio-message-format">
<h4>GPIO Message Format<a class="headerlink" href="#gpio-message-format" title="Permalink to this headline">¶</a></h4>
<p>The messages have to be structured in JSON format:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;gpio&quot;</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">value</span></code></td>
<td>String</td>
<td>Value to set the pin to (e.g., <code class="docutils literal"><span class="pre">&quot;0&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;1&quot;</span></code>).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id64">
<h4>Configuration<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h4>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;gpioController&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;defaultState&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
    <span class="s2">&quot;pin&quot;</span><span class="p">:</span> <span class="s2">&quot;pin_17&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="16%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">defaultStarte</span></code></td>
<td>Integer</td>
<td>Default state of the pin (either <code class="docutils literal"><span class="pre">0</span></code> or <code class="docutils literal"><span class="pre">1</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">duration</span></code></td>
<td>Float</td>
<td>Duration of the state change.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">pin</span></code></td>
<td>String</td>
<td>Name of the pin defined in the GPIO configuration
of the OS.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="virtual">
<h2>Virtual<a class="headerlink" href="#virtual" title="Permalink to this headline">¶</a></h2>
<p>OpenADMS supports virtual sensors, which simulate physical ones. The logic of
the virtual sensors is stored in single modules in the file
<code class="docutils literal"><span class="pre">module/virtual.py</span></code>. The Python class <code class="docutils literal"><span class="pre">VirtualSensor</span></code> is the parent class
for the inheritance of new sensors.</p>
<div class="section" id="virtualdtm">
<span id="virtual-dtm"></span><h3>VirtualDTM<a class="headerlink" href="#virtualdtm" title="Permalink to this headline">¶</a></h3>
<p>The VirtualDTM simulates an <a class="reference external" href="http://www.sts-sensors.com/us/LinkClick.aspx?link=media%2Fdatasheets%2FDatasheet_DTM_Pressure_transmitter_485_232_us.pdf&amp;tabid=403&amp;mid=900">STS DTM</a> temperature/pressure sensor. The virtual
sensor returns random temperature values between –20 and +40 °C as well as
random pressure values between 980 and 1150 hPa.</p>
<p>The VirtualDTM can be used like a real sensor. Create a <a class="reference internal" href="#scheduler"><span class="std std-ref">Scheduler</span></a> and set
the name of the sensor to the name of the VirtualDTM instance.</p>
<div class="section" id="id65">
<h4>Loading the Module<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h4>
<p>Add the VirtualDTM to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;virtualDtm&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.virtual.VirtualDTM&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id66">
<h4>Configuration<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h4>
<p>The module VirtualDTM has nothing to configure.</p>
</div>
</div>
<div class="section" id="virtualindicatorone">
<span id="virtual-indicator-one"></span><h3>VirtualIndicatorOne<a class="headerlink" href="#virtualindicatorone" title="Permalink to this headline">¶</a></h3>
<p>The VirtualIndicatorOne simulates a <a class="reference external" href="http://www.studenroth.com/de/pdf/Messuhren_2013_PDF/Dial_One.pdf">Sylvac S_Dial ONE</a> digital
indicator/extensometer. The virtual sensor returns values of a sine wave between
0.0 and 26.0 mm (measurement range of the physical sensor).</p>
<p>The virtual sensor can be used like a real one. Create a <a class="reference internal" href="#scheduler"><span class="std std-ref">Scheduler</span></a>
and set the name of the sensor to the name of the VirtualIndicatorOne instance.</p>
<div class="section" id="id67">
<h4>Loading the Module<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h4>
<p>Add the VirtualIndicatorOne to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core
configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;virtualIndicatorOne&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.virtual.VirtualIndicatorOne&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id68">
<h4>Configuration<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h4>
<p>The module VirtualIndicatorOne has nothing to configure.</p>
</div>
</div>
<div class="section" id="virtualtotalstationtm30">
<span id="virtual-total-station-tm30"></span><h3>VirtualTotalStationTM30<a class="headerlink" href="#virtualtotalstationtm30" title="Permalink to this headline">¶</a></h3>
<p>The VirtualTotalStationTM30 simulates a Leica TM30 total station, but can also
be used as any other modern total station of Leica Geosystems. The module
returns just random data in defined ranges. The following Leica GeoCOM commands
are implemented yet:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Return Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">2008</span></code></td>
<td>Measure the distance.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">2167</span></code></td>
<td>Do a complete measurement and return the values.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">5003</span></code></td>
<td>Get the sensor ID.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">5004</span></code></td>
<td>Get the sensor name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">9027</span></code></td>
<td>Set the direction.</td>
</tr>
</tbody>
</table>
<p>More GeoCOM commands can be added easily. Later versions of the module may
include further ones.</p>
<p>The VirtualTotalStationTM30 can be used like a real sensor. Create a
<a class="reference internal" href="#scheduler"><span class="std std-ref">Scheduler</span></a> and set the name of the sensor to the name of the
VirtualTotalStationTM30 instance.</p>
<div class="section" id="id69">
<h4>Loading the Module<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h4>
<p>Add the VirtualTotalStationTM30 to the <code class="docutils literal"><span class="pre">modules</span></code> section of the core
configuration:</p>
<div class="code javascript highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;modules&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;virtualTotalStationTM30&quot;</span><span class="p">:</span> <span class="s2">&quot;modules.virtual.VirtualTotalStationTM30&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id70">
<h4>Configuration<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h4>
<p>The module VirtualTotalStationTM30 has nothing to configure.</p>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="system.html" class="btn btn-neutral" title="System Description" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Hochschule Neubrandenburg – University of Applied Sciences.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>